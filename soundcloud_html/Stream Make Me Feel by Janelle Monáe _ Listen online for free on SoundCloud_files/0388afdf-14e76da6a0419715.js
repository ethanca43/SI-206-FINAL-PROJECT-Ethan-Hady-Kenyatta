(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4560],{950:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=n},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPartialMatch=function(e,t){return!!(!e.mimeType||t.mimeType===e.mimeType)&&(!e.audioCodec||!!(t.audioCodec&&t.audioCodec.id===e.audioCodec.id))&&(!e.videoCodec||!!(t.videoCodec&&t.videoCodec.id===e.videoCodec.id))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this,"Was expecting the mp3 sync word or id3 tags, but got something else.")||this}return o(t,e),t}(r(7).Mp3TransmuxerError);t.Mp3NoiseError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._code=t,r}return o(t,e),t.prototype.getCode=function(){return"OGG_PARSER."+this._code},t}(r(1).RetrievalError);t.OggParserError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._code=t,r}return o(t,e),t.prototype.getCode=function(){return"MP3_TRANSMUXER."+this._code},t}(r(1).RetrievalError);t.Mp3TransmuxerRetrievalError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._msg=e}return e.prototype.getMsg=function(){return this._msg},e}();t.Mp3TransmuxerError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this._playlist=e,this._url=t,this._sequenceNumber=r}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._statusCode=t,r}return o(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(r(1).RetrievalError);t.UnacceptableResponseStatusCodeError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(r(1).RetrievalError);t.NoDecryptorError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return e}}},function(e,t,r){"use strict";t.__esModule=!0,t.MP3Parser=i;var n=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];function i(){this.buffer=null,this.bufferSize=0}i.prototype.push=function(e){if(this.bufferSize>0){var t,r,n=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var o=new Uint8Array(n);this.bufferSize>0&&o.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=o}this.buffer.set(e,this.bufferSize),this.bufferSize=n,e=this.buffer,t=n}else t=e.length;for(var i=0;i<t&&(r=this._parse(e,i,t))>0;)i+=r;var a=t-i;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(e.subarray(i,t)):this.buffer.set(e.subarray(i,t))),this.bufferSize=a},i.prototype._parse=function(e,t,r){if(t+2>r)return -1;if(255===e[t]||(224&e[t+1])==224){if(t+24>r)return -1;var i=e[t+1]>>3&3,a=e[t+1]>>1&3,s=e[t+2]>>4&15,u=e[t+2]>>2&3,c=!!(2&e[t+2]);if(1!==i&&0!==s&&15!==s&&3!==u){var l=1e3*n[14*(3===i?3-a:3===a?3:4)+s-1],h=o[3*(3===i?0:2===i?1:2)+u],f=c?1:0,d=3===a?(3===i?12:6)*l/h+f<<2:(3===i?144:72)*l/h+f|0;return t+d>r?-1:(this.onFrame&&this.onFrame(new Uint8Array(e.subarray(t,t+d))),d)}}for(var p=t+2;p<r;){if(255===e[p-1]&&(224&e[p])==224)return this.onNoise&&this.onNoise(new Uint8Array(e.subarray(t,p-1))),p-t-1;p++}return -1},i.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(new Uint8Array(this.buffer.subarray(0,this.bufferSize))),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isID3Tag=function(e){return e.byteLength>=3&&73===e[0]&&68===e[1]&&51===e[2]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(12),i=r(32),a=r(4),s=r(13),u={rate:44100,id:3},c=u.rate;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob(function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,l=[],h=!1,f=null,d=!1,p=new o.MP3Parser,g=new i.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:u.rate,samplesize:16,timescale:c}]});function E(){p.close(),g.flush()}function _(r){d=!0;try{E()}catch(e){}t.reject(r),e.abort()}return g.ondata=function(e){d||(f?(l.push(e),r.dispatch({initData:f,data:e})):f=e)},p.onNoise=function(e){!d&&(s.isID3Tag(e)||_(new a.Mp3NoiseError))},p.onFrame=function(e){if(!d)try{var t,r=new Uint8Array(e.length+1);t=32|u.id<<2|3,r[0]=t,r.set(e,1),g.pushPacket(8,r,0)}catch(e){_(e)}},e.onProgressUpdate(function(e){var t=e.data;!h&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),h=!0;try{p.push(t)}catch(e){_(e)}}),e.onCompletion(function(e){try{E(),t.resolve(e)}catch(e){_(e)}}),e.onError(_),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return l.length?{initData:f,data:n.helpers.arrayBuffer.combine(l)}:null}},abort:function(){d=!0,e.abort(),E()}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088;var n=r(16);t.PlaylistSegmentRetriever=n.PlaylistSegmentRetriever;var o=r(17);t.Playlist=o.Playlist,t.PlaylistType=o.PlaylistType;var i=r(18);t.Segment=i.Segment;var a=r(29);t.TransmuxerFactory=a.TransmuxerFactory;var s=r(14);t.MP3ToMP4Transmuxer=s.MP3ToMP4;var u=r(11);t.PassThroughTransmuxer=u.PassThrough;var c=r(36);t.retrievalErrors=c.retrievalErrors;var l=r(39);t.events=l.events},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(0),a=r(2),s=r(5),u=r(3),c=r(6),l=r(7),h=r(4),f=i.helpers.find,d=i.eventDispatcher.EventDispatcher,p=i.helpers.abortableJob.abortedError,g=i.logger.prefixLogger,E=i.logger.noOpLogger;(n=o||(o={}))[n.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",n[n.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",n[n.RETRIEVING_DATA=2]="RETRIEVING_DATA",n[n.COMPLETE=3]="COMPLETE";var _=function(){function e(e){this._onSegmentRequestQueued=new d,this._onSegmentRequestStart=new d,this._onSegmentRetrieved=new d,this._onSegmentRequestFailed=new d,this._onSegmentDataRetrieveStarted=new d,this._onSegmentReady=new d,this._onError=new d,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,r=e.getPosition,n=e.maxBufferLength,o=e.cacheSize,i=e.transmuxer,a=e.logger;if(this._logger=g(void 0===a?E:a,"PlaylistSegmentRetriever"),t&&!t.hasInitialUpdateCompleted())throw Error("Playlist retrieve has not completed.");if(n<0)throw Error("Max buffer length must be > 0.");if(o<0)throw Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDataRetrieveStarted=this._onSegmentDataRetrieveStarted.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=i,this._getPosition=r,this._maxBufferLength=n,this._cacheSize=o,this._scheduleNextUpdate(0)}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw Error("Cache size must be > 0.");this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===o.RETRIEVING_DATA||t.state===o.COMPLETE?e+t.size:e},0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasInitialUpdateCompleted())throw Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===o.COMPLETE}),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===o.RETRIEVING_DATA&&e.size||e.state===o.COMPLETE}).map(function(e){return{segment:e.segment,dataRetrieveJob:e.dataRetrieveJob,complete:e.state===o.COMPLETE}})},e.prototype.update=function(){this._ensureNotDead(),this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null);var e,t=this._getPosition(),r=t,n=0;this._segments.some(function(e){if(e.state!==o.COMPLETE)return!1;var i=e.segment.getTimeRange();return i.containsTime(n)&&(n=i.end),!(i.end<t)&&(i.start>r||(r=i.end,!1))});var i=t+this._maxBufferLength;if(!((e=this._playlist)&&e.hasEnded()&&r===e.getDuration()?(r=n,e.getDuration()+n<i):r<i)){this._abortCurrentRetrieve(),this._garbageCollect(t),this._scheduleNextUpdate();return}var a=f(this._segments,function(e){return(e.state===o.RETRIEVED_SEGMENT||e.state===o.RETRIEVING_DATA)&&e.segment.getTimeRange().containsTime(r)});a?this._retrieveSegmentData(a):this._retrieveSegment(r),this._garbageCollect(t)},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==o.RETRIEVED_SEGMENT&&e.state!==o.RETRIEVING_DATA)throw Error("Segment in incorrect state for data to be retrieved.");if(!this._retrievingSegment||this._retrievingSegment.state!==o.RETRIEVING_DATA||e.segment!==this._retrievingSegment.segment){this._abortCurrentRetrieve();var r=i.helpers.abortableJob.map(function(){return t._transmuxer.transmux(e.segment.retrieveData())},{convertResult:function(e){return e},convertProgressUpdate:function(e){return e},abortableJobOpts:{storeResult:!0}}),n=r.run(),u=!1,f=this._retrievingSegment={state:o.RETRIEVING_DATA,dataRetrieveJob:r,dataRetrieveJobHandle:n,segment:e.segment,size:0};this._switchSegment(e,f),n.onProgressUpdate(function(n){var o=f.size,i=o;!u&&n.initData&&(o+=n.initData.byteLength),u=!0,o+=n.data.byteLength,f.size=o,0===i&&o>0&&t._onSegmentDataRetrieveStarted.dispatch({segment:e.segment,dataRetrieveJob:r,complete:!1})}),n.onCompletion(function(){if(t._retrievingSegment=null,f.state!==o.RETRIEVING_DATA)throw Error("Incorrect retrieval state.");t._switchSegment(f,{state:o.COMPLETE,dataRetrieveJob:f.dataRetrieveJob,dataRetrieveJobHandle:f.dataRetrieveJobHandle,segment:e.segment,size:f.size}),t._logger.debug("Segment retrieve completed.",e.segment.getEventRepresentation()),t.update(),t._onSegmentReady.dispatch({segment:e.segment,complete:!0,dataRetrieveJob:f.dataRetrieveJob})}),n.onError(function(r){r!==p&&(t._logger.error("Error retrieving segment data.",r,e.segment.getEventRepresentation()),t._scheduleNextUpdate(),r instanceof a.OggParserError?r=new s.OggParserError(r instanceof a.ChecksumFailedError?"CHECKSUM_FAILED":r instanceof a.NoSegmentsInPageError?"NO_SEGMENTS_IN_PAGE":r instanceof a.PageFromDifferentBitstreamError?"PAGE_FROM_DIFFERENT_BITSTREAM":r instanceof a.PageSequenceNumberDidNotIncrementError?"SEQUENCE_NUMBER_DID_NOT_INCREMENT":r instanceof a.UnexpectedBOSError?"UNEXPECTED_BOS":r instanceof a.UnexpectedEOSError?"UNEXPECTED_EOS":"UNKNOWN"):r instanceof l.Mp3TransmuxerError&&(r=new c.Mp3TransmuxerRetrievalError(r instanceof h.Mp3NoiseError?"NOISE":"UNKNOWN")),t._onError.dispatch(r))})}},e.prototype._retrieveSegment=function(e){var t=this,r=this._retrievingSegment,n=this._playlist,i=n?n.getSegmentIndexContainingTime(e):null;if(!r||r.state!==o.RETRIEVING_SEGMENT||r.segmentIndex!==i){if(this._abortCurrentRetrieve(),n){if(null===i)this._scheduleNextUpdate();else{var a=n.getSegment(i);this._logger.debug("Retrieving segment.",i),a.onCompletion(function(e){if(t._logger.debug("Retrieved segment.",i),!u.isPartialMatch(t._transmuxer.getInputFormat(),e.getFormat())){var r=Error("Segment format is not supported by transmuxer.");t._logger.error("Segment incorrect format.",r),t._scheduleNextUpdate(),t._onError.dispatch(r);return}e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),t._segments.splice(t._segments.indexOf(s),1);var n=e.getTimeRange(),a=t._segments.length;t._segments.some(function(e,t){return e.state!==o.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>n.start&&(a=t,!0)}),t._segments.splice(a,0,{state:o.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()}),a.onError(function(e){e!==p&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))});var s={state:o.RETRIEVING_SEGMENT,segmentIndex:i,segmentRetrieveJob:a};this._segments.push(s),this._retrievingSegment=s}}else this._logger.debug("Cannot retrieve segment as there is no playlist."),this._scheduleNextUpdate()}},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===o.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===o.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJobHandle.abort(),this._switchSegment(e,{state:o.RETRIEVED_SEGMENT,segment:e.segment})),this._retrievingSegment=null)},e.prototype._switchSegment=function(e,t){var r=this._segments.indexOf(e);if(-1===r)throw Error("Old segment missing.");this._segments.splice(r,1,t)},e.prototype._garbageCollect=function(e){var t=this._segments,r=this._cacheSize,n=this.getCacheUsage();if(!(n<=r)){var i=this._playlist,a=i&&i.getCompleteDuration(),s=null!==a?a:1/0,u=e+this._maxBufferLength;u>s&&(u-=s)>=e||t.filter(function(t){var r,n,i;return t.state===o.COMPLETE&&(r=t.segment,n=u,i=r.getTimeRange(),n===e||(n>e?!(i.end>e)||!(i.start<n):!(i.end>e)&&!(i.start<n)))}).map(function(t){var r=t.segment.getTimeRange().start;return{segment:t,distance:Math.min(Math.abs(e-r),r+s-e),size:t.size}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return n<=r||(t.splice(t.indexOf(e.segment),1),n-=e.size,!1)})}},e.prototype._scheduleNextUpdate=function(e){var t=this;void 0===e&&(e=1e3),this._timerId||(this._timerId=window.setTimeout(function(){t._timerId=null,t.update()},e))},e.prototype._ensureNotDead=function(){if(this._dead)throw Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0).eventDispatcher.EventDispatcher;(n=t.PlaylistType||(t.PlaylistType={}))[n.LIVE=0]="LIVE",n[n.EVENT=1]="EVENT",n[n.VOD=2]="VOD";var i=function(){function e(){this._onPlaylistRequestQueued=new o,this._onPlaylistRequestStart=new o,this._onPlaylistRetrieved=new o,this._onPlaylistRequestFailed=new o,this._onPlaylistParseStart=new o,this._onPlaylistParseEnd=new o,this._onKeyRequestQueued=new o,this._onKeyRequestStart=new o,this._onKeyRetrieved=new o,this._onKeyRequestFailed=new o,this._onInitDataRequestQueued=new o,this._onInitDataRequestStart=new o,this._onInitDataRetrieved=new o,this._onInitDataRequestFailed=new o,this._onUpdated=new o,this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this.onInitDataRequestQueued=this._onInitDataRequestQueued.getHandle(),this.onInitDataRequestStart=this._onInitDataRequestStart.getHandle(),this.onInitDataRetrieved=this._onInitDataRetrieved.getHandle(),this.onInitDataRequestFailed=this._onInitDataRequestFailed.getHandle(),this.onUpdated=this._onUpdated.getHandle()}return e.prototype.update=function(){var e=this,t=this._update();return t.onCompletion(function(){return e._onUpdated.dispatch(void 0)}),t},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var r=this.getSegmentCount(),n=this.getFirstSegmentIndex();if(void 0===t&&(t=n+r),void 0===e&&(e=n),e<n||t<e||t>n+r)throw Error("Invalid range of segments.");for(var o=[],i=e;i<t;i++)o.push(this._getSegment(i));return o},e}();t.Playlist=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(8),i=r(19),a=r(23),s=r(24),u=n.helpers.abortableJob.AbortableJob,c=n.eventDispatcher.EventDispatcher,l=n.logger.noOpLogger,h=function(){function e(e){var t=e.url,r=e.sequenceNumber,h=e.playlist,f=e.timeRange,d=e.encryptionConfig,p=e.initData,g=e.format,E=e.loader,_=e.playlistEventRepresentation,v=e.logger,m=void 0===v?l:v,y=e.delayCalculator,S=void 0===y?n.helpers.retry.buildExponentialDelayCalculator():y,P=e.isResponseCodeAcceptable,b=e.isResponseCodeRetryable,T=this;this._onSegmentRequestQueued=new c,this._onSegmentRequestStart=new c,this._onSegmentRetrieved=new c,this._onSegmentRequestFailed=new c,this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this._sequenceNumber=r,this._playlist=h,this._timeRange=f,this._format=g;var R=this._segmentEventRepresentation=new o.Segment(_,t,r),A=a.getSegmentDownloadJob({delayCalculator:S,segmentEventRepresentation:R,url:t,loader:E,onSegmentRequestQueued:this._onSegmentRequestQueued,onSegmentRequestStart:this._onSegmentRequestStart,onSegmentRequestFailed:this._onSegmentRequestFailed,onSegmentRetrieved:this._onSegmentRetrieved,isResponseCodeAcceptable:void 0===P?function(e){return 200===e}:P,isResponseCodeRetryable:void 0===b?function(e){return!(e>=400&&e<500)}:b,logger:m}),I=s.getSegmentDownloadAndDecryptJob({encryptionConfig:d,downloadAbortableJob:A,logger:m});this._retrieveAbortableJob=new u(function(){var e=i.SegmentParserFactory.retrieveSegmentParser(T._format),t=new c,r=n.helpers.deferred.buildDeferred(),o=e.parseSegmentData(n.helpers.abortableJob.map(function(){return I.run()},{convertProgressUpdate:function(e,t){return t&&p?n.helpers.arrayBuffer.combine([p,e]):e},convertResult:function(e){return e}}).run(),T,T._playlist);return o.onProgressUpdate(t.dispatch,{skipPast:!0}),o.onCompletion(function(){return r.resolve(void 0)}),o.onError(r.reject),{result:r.promise,progressUpdates:{onProgressUpdate:t,getProgressSoFar:o.getProgressSoFar},abort:o.abort}})}return e.prototype.getFormat=function(){return this._format},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e.prototype.isFinalSegment=function(){var e=this._playlist;return e.hasEnded()&&e.getFirstSegmentIndex()+e.getSegmentCount()-1===this._sequenceNumber},e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.getEventRepresentation=function(){return this._segmentEventRepresentation},e.prototype.retrieveData=function(){var e=this;return new u(function(){var t=n.helpers.deferred.buildDeferred(),r=new c,o=[],i=e._retrieveAbortableJob.run(),a=void 0;return i.onProgressUpdate(function(e){var t=e.data,n=e.initData;o.length||(a=n),o.push(t),r.dispatch({data:t,initData:a})}),i.onCompletion(function(){t.resolve(void 0)}),i.onError(t.reject),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return o.length?{initData:a,data:n.helpers.arrayBuffer.combine(o)}:null}},abort:function(){return i.abort()}}}).run()},e}();t.Segment=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=r(20),a=n.helpers.find;t.SegmentParserFactory={retrieveSegmentParser:function(e){var t=a(i.default,function(t){return o.isPartialMatch(t.getFormat(),e)});if(!t)throw Error("No segment parser found.");return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),o=r(22),i=[n.OggOpusSegmentParser,o.DefaultSegmentParser];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=n.helpers.abortableJob.AbortableJob,a=n.helpers.arrayBuffer.combine,s=new n.helpers.SCWeakMap;t.OggOpusSegmentParser={getFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},parseSegmentData:function(e,r,u){return new i(function(){var i=n.helpers.deferred.buildDeferred(),c=new n.eventDispatcher.EventDispatcher,l=[],h=null,f=null,d=null,p=function(t){i.reject(t),e.abort()},g=function(e){s.set(u,e),c.dispatch({initData:e,data:a(l)})};return e.onProgressUpdate(function(e){if(h&&"PRESENT"===h.state&&h.initDataEnded)l.push(e),c.dispatch({initData:h.initData,data:e});else if(h&&"NOT_PRESENT"===h.state)l.push(e);else{l.push(e);var i=a(l);if(h=function(e){var t=o.retrievePages(e).pages;if(t.length){var r=o.retrievePackets([t[0]])[0];if(!r||!r.first)return{state:"NOT_PRESENT"};var n=1,i=t.slice(1).some(function(e,t){var r=!!(1&e.header.type[0]);return t>0&&!r||(n=t+2,!1)});return{state:"PRESENT",initData:a(t.slice(0,n).map(function(e){return e.entirePage})),initDataEnded:i}}return null}(i)){if("NOT_PRESENT"===h.state){var E=s.get(u);r.getSequenceNumber()<=u.getFirstSegmentIndex()?p(Error("Could not find init data.")):E?g((h={state:"PRESENT",initData:E,initDataEnded:!0}).initData):((f=u.getSegment(u.getFirstSegmentIndex())).onCompletion(function(e){var r=d=t.OggOpusSegmentParser.parseSegmentData(n.helpers.abortableJob.map(function(){return e.retrieveData()},{convertProgressUpdate:function(e){return e.initData?n.helpers.arrayBuffer.combine([e.initData,e.data]):e.data},convertResult:function(e){return e}}).run(),e,u);r.onProgressUpdate(function(e){var t=e.initData;if(r.abort(),!t){var n=Error("OggOpusSegmentParser should always provide init data.");throw p(n),n}h={state:"PRESENT",initData:t,initDataEnded:!0},g(t)}),r.onError(function(e){e!==n.helpers.abortableJob.abortedError&&p(e)})}),f.onError(p))}else if("PRESENT"===h.state&&h.initDataEnded){if(l.splice(0),i.byteLength>h.initData.byteLength){var _=new Uint8Array(i.buffer.slice(h.initData.byteLength));l.push(_)}g(h.initData)}}}}),e.onCompletion(function(e){h&&"PRESENT"===h.state&&!h.initDataEnded?(g(h.initData),i.resolve(e)):h&&"PRESENT"===h.state?i.resolve(e):i.reject(Error("Could not find init data."))}),e.onError(p),{result:i.promise,progressUpdates:{onProgressUpdate:c,getProgressSoFar:function(){return h&&"PRESENT"===h.state&&h.initDataEnded?{initData:h.initData,data:a(l)}:null}},abort:function(){e.abort(),f&&f.abort(),d&&d.abort()}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.DefaultSegmentParser={getFormat:function(){return{}},parseSegmentData:function(e){return n.helpers.abortableJob.map(function(){return e},{convertProgressUpdate:function(e){return{data:e}},convertResult:function(e){return e}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(9);t.getSegmentDownloadJob=function(e){var t=e.delayCalculator,r=e.segmentEventRepresentation,i=e.url,a=e.loader,s=e.onSegmentRequestQueued,u=e.onSegmentRequestStart,c=e.onSegmentRequestFailed,l=e.onSegmentRetrieved,h=e.isResponseCodeAcceptable,f=e.isResponseCodeRetryable,d=e.logger;return new n.helpers.abortableJob.AbortableJob(function(){var e=n.helpers.deferred.buildDeferred(),p=new n.eventDispatcher.EventDispatcher,g=[],E=0,_=n.helpers.retry.retry(t,function(t){var _=t.scheduleRetry,v=!1,m=0;s.dispatch({segment:r}),d.debug("Requesting segment.",i);var y=a.request({url:i});y.onRequestStart(function(){return u.dispatch({segment:r})});var S=function(e){var t=e.byteLength;if(t){if((m+=t)<=E)d.debug("Already downloaded this part. Skipping...",m,E);else{var r=new Uint8Array(e,t-(m-E));E=m,g.push(r),p.dispatch(r)}}};return y.onProgress(function(t){var n=t.initial,a=t.statusCode,s=t.part;if(n){if(h(a))d.debug("Segment response started.",i,a),S(s);else{var u=null;f(a)?d.debug("Segment response code was not acceptable. Will retry.",i,a):(d.debug("Segment response code was not acceptable.",i,a),u=new o.UnacceptableResponseStatusCodeError(a)),y.abort(),c.dispatch({segment:r,statusCode:a}),u?e.reject(u):(v=!0,_())}}else d.debug("Got segment response part.",i,a),S(s)}),y.onResponseReceived(function(t){v||(t?(l.dispatch({segment:r,statusCode:t.statusCode}),e.resolve(void 0)):(d.warn("Segment request timed out.",i),c.dispatch({segment:r,statusCode:null}),_()))}),y.onError(function(t){v||t===n.helpers.abortableJob.abortedError||(t instanceof n.loaderErrors.LoaderError?(d.warn("Error from loader. Will retry",i,t),_()):(d.error("Unexpected error when requesting segment.",t),e.reject(t)))}),{onCancel:function(){d.debug("Aborting segment request.",i),y.hasCompleted()||y.abort(),c.dispatch({segment:r,aborted:!0})}}},{onNoMoreRetries:function(){return e.reject(Error("No more retries for requesting segment."))}}).cancel;return{result:e.promise,progressUpdates:{onProgressUpdate:p,getProgressSoFar:function(){return g.length?n.helpers.arrayBuffer.combine(g):null}},abort:function(){return _()}}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(25),i=r(10);t.getSegmentDownloadAndDecryptJob=function(e){var t=e.encryptionConfig,r=e.downloadAbortableJob,a=e.logger;return new n.helpers.abortableJob.AbortableJob(function(){var e=new n.eventDispatcher.EventDispatcher,s=n.helpers.deferred.buildDeferred(),u=null;if(t&&(a.info("Finding a decryptor..."),!(u=o.DecryptorFactory.retrieveDecryptor(t))))return a.error("Could not find a decryptor."),s.reject(new i.NoDecryptorError),{result:s.promise,progressUpdates:{onProgressUpdate:e,getProgressSoFar:function(){return null}}};var c=r.run(),l=null,h=[];return t&&u?((l=u.decrypt(c,t)).onProgressUpdate(function(t){h.push(t),e.dispatch(t)}),l.onError(function(e){e!==n.helpers.abortableJob.abortedError&&a.error("Error occurred during decryption.",e),s.reject(e),c.abort()})):c.onProgressUpdate(function(t){h.push(t),e.dispatch(t)}),c.onCompletion(function(){var e=function(){return s.resolve(void 0)};l?l.whenComplete().then(function(){return e()}):e()}),c.onError(s.reject),{result:s.promise,progressUpdates:{onProgressUpdate:e,getProgressSoFar:function(){return h.length?n.helpers.arrayBuffer.combine(h):null}},abort:function(){c.abort(),l&&l.abort()}}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(26),i=n.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return i(o.default,function(t){return t.canDecrypt(e)})||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[r(27).JSCrypto];t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(28),i=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){i||(i=new o.AESDecryptor);var r=i;return new n.helpers.abortableJob.AbortableJob(function(){var i,a=new n.eventDispatcher.EventDispatcher,s=n.helpers.deferred.buildDeferred(),u=[],c=null,l=[],h=0,f=new Uint8Array(t.iv),d=!1;r.expandKey(t.key.buffer);var p=function(e){var t=c;c=new Uint8Array(r.decrypt(e.buffer,0,f.buffer,!1));var n=e.byteLength-16;if(n<0)throw Error("lastBlockOffset invalid.");for(var o=0;o<16;o++)f[o]=e[n+o];t&&(u.push(t),a.dispatch(t))};return e.onProgressUpdate(function(e){!d&&(n.helpers.arrayBuffer.forEach(e,function(e){d||(h||(i=new Uint8Array(16)),i[h++]=e,16!==h||(l.push(i),h=0))}),l.length&&(p(n.helpers.arrayBuffer.combine(l)),l=[]))}),e.onCompletion(function(e){if(!d){if(h)s.reject(Error("Reached end part way through block."));else{if(c){var t=new Uint8Array(o.removePadding(c.buffer));u.push(t),a.dispatch(t)}s.resolve(e)}}}),e.onError(s.reject),{result:s.promise,abort:function(){d=!0,e.abort()},progressUpdates:{onProgressUpdate:a,getProgressSoFar:function(){return n.helpers.arrayBuffer.combine(u)}}}}).run()}}},function(e,t,r){"use strict";function n(e){var t=e.byteLength,r=new DataView(e),n=t&&r.getUint8(t-1);if(!n)return e;for(var o=t-n,i=new Uint8Array(o),a=0;a<o;a++)i[a]=r.getUint8(a);return i.buffer}t.__esModule=!0,t.removePadding=n;var o=t.AESDecryptor=function(){function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],o=r[1],i=r[2],a=r[3],s=this.invSubMix,u=s[0],c=s[1],l=s[2],h=s[3],f=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)g<128?f[g]=g<<1:f[g]=g<<1^283;for(g=0;g<256;g++){var E=p^p<<1^p<<2^p<<3^p<<4;E=E>>>8^255&E^99,e[d]=E,t[E]=d;var _=f[d],v=f[_],m=f[v],y=257*f[E]^16843008*E;n[d]=y<<24|y>>>8,o[d]=y<<16|y>>>16,i[d]=y<<8|y>>>24,a[d]=y,y=16843009*m^65537*v^257*_^16843008*d,u[E]=y<<24|y>>>8,c[E]=y<<16|y>>>16,l[E]=y<<8|y>>>24,h[E]=y,d?(d=_^f[f[f[m^_]]],p^=f[f[p]]):d=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw Error("Invalid aes key size="+o);var i=this.ksRows=(o+6+1)*4,a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(i),c=this.invKeySchedule=new Uint32Array(i),l=this.sBox,h=this.rcon,f=this.invSubMix,d=f[0],p=f[1],g=f[2],E=f[3],_=void 0,v=void 0;for(a=0;a<i;a++){if(a<o){_=u[a]=t[a];continue}v=_,a%o==0?v=(l[(v=v<<8|v>>>24)>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[255&v])^h[a/o|0]<<24:o>6&&a%o==4&&(v=l[v>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[255&v]),u[a]=_=(u[a-o]^v)>>>0}for(s=0;s<i;s++)a=i-s,v=3&s?u[a]:u[a-4],s<4||a<=4?c[s]=v:c[s]=d[l[v>>>24]]^p[l[v>>>16&255]]^g[l[v>>>8&255]]^E[l[255&v]],c[s]=c[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,o){for(var i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix,c=u[0],l=u[1],h=u[2],f=u[3],d=this.uint8ArrayToUint32Array_(r),p=d[0],g=d[1],E=d[2],_=d[3],v=new Int32Array(e),m=new Int32Array(v.length),y=void 0,S=void 0,P=void 0,b=void 0,T=void 0,R=void 0,A=void 0,I=void 0,D=void 0,w=void 0,N=void 0,M=void 0,O=void 0,x=void 0,F=this.networkToHostOrderSwap;t<v.length;){for(x=1,D=F(v[t]),w=F(v[t+1]),N=F(v[t+2]),M=F(v[t+3]),T=D^a[0],R=M^a[1],A=N^a[2],I=w^a[3],O=4;x<i;x++)y=c[T>>>24]^l[R>>16&255]^h[A>>8&255]^f[255&I]^a[O],S=c[R>>>24]^l[A>>16&255]^h[I>>8&255]^f[255&T]^a[O+1],P=c[A>>>24]^l[I>>16&255]^h[T>>8&255]^f[255&R]^a[O+2],b=c[I>>>24]^l[T>>16&255]^h[R>>8&255]^f[255&A]^a[O+3],T=y,R=S,A=P,I=b,O+=4;y=s[T>>>24]<<24^s[R>>16&255]<<16^s[A>>8&255]<<8^s[255&I]^a[O],S=s[R>>>24]<<24^s[A>>16&255]<<16^s[I>>8&255]<<8^s[255&T]^a[O+1],P=s[A>>>24]<<24^s[I>>16&255]<<16^s[T>>8&255]<<8^s[255&R]^a[O+2],b=s[I>>>24]<<24^s[T>>16&255]<<16^s[R>>8&255]<<8^s[255&A]^a[O+3],O+=3,m[t]=F(y^p),m[t+1]=F(b^g),m[t+2]=F(P^E),m[t+3]=F(S^_),p=D,g=w,E=N,_=M,t+=4}return o?n(m.buffer):m.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(30);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return o.default.filter(function(r){var o=r.getInputFormat(),i=r.getOutputFormat();return(!e||n.isPartialMatch(o,e))&&(!t||n.isPartialMatch(i,t))})},retrieveTransmuxer:function(e,r){return t.TransmuxerFactory.retrieveTransmuxers(e,r)[0]||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(31),i=r(14),a=r(33),s=r(35),u=[o.MP3ToMP3,s.MP4ToMP4,n.PassThrough,i.MP3ToMP4,a.OggOpusToWebm];t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(12),i=r(4),a=r(13);t.MP3ToMP3={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mpeg"}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob(function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,s=[],u=[],c=!1,l=!1,h=new o.MP3Parser;function f(){h.close()}function d(r){l=!0;try{f()}catch(e){}t.reject(r),e.abort()}return h.onNoise=function(e){!l&&(a.isID3Tag(e)||d(new i.Mp3NoiseError))},h.onFrame=function(e){if(!l)try{u.push(e)}catch(e){d(e)}},e.onProgressUpdate(function(e){var t=e.data;!c&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),c=!0;try{if(h.push(t),u.length){var o=n.helpers.arrayBuffer.combine(u);s.push(o),u.splice(0),r.dispatch({data:o})}}catch(e){d(e)}}),e.onCompletion(function(e){try{f(),t.resolve(e)}catch(e){d(e)}}),e.onError(d),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return s.length?{data:n.helpers.arrayBuffer.combine(s)}:null}},abort:function(){l=!0,e.abort(),f()}}}).run()}}},function(e,t,r){"use strict";t.__esModule=!0;var n,o,i,a,s,u,c,l=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};(o=(n=c||(c={})).StringUtilities||(n.StringUtilities={})).utf8decode=function(e){for(var t=new Uint8Array(4*e.length),r=0,n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);if(i<=127){t[r++]=i;continue}if(55296<=i&&i<=56319){var a=e.charCodeAt(n+1);56320<=a&&a<=57343&&(i=((1023&i)<<10)+(1023&a)+65536,++n)}(4292870144&i)!=0?(t[r++]=248|i>>>24&3,t[r++]=128|i>>>18&63,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63):(4294901760&i)!=0?(t[r++]=240|i>>>18&7,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63):(4294965248&i)!=0?(t[r++]=224|i>>>12&15,t[r++]=128|i>>>6&63):t[r++]=192|i>>>6&31,t[r++]=128|63&i}return t.subarray(0,r)},o.utf8encode=function(e){for(var t=0,r="";t<e.length;){var n=255&e[t++];if(n<=127)r+=String.fromCharCode(n);else{var o=192,i=5;do{if((n&(o>>1|128))===o)break;o=o>>1|128,--i}while(i>=0);if(i<=0)throw Error("Invalid UTF8 character");for(var a=n&(1<<i)-1,s=5;s>=i;--s){var u=e[t++];if((192&u)!=128)throw Error("Invalid UTF8 character sequence");a=a<<6|63&u}a>=65536?r+=String.fromCharCode(a-65536>>10&1023|55296,1023&a|56320):r+=String.fromCharCode(a)}}return r},function(e){function t(e){for(var t=e.length>>1,r=new Uint8Array(t),n=0;n<t;n++)r[n]=parseInt(e.substr(2*n,2),16);return r}var r,n,o,i,a,s,u,c,l=[5500,11025,22050,44100],h=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"];(r=a||(a={}))[r.HEADER=0]="HEADER",r[r.RAW=1]="RAW";var f=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"];(n=s||(s={}))[n.KEY=1]="KEY",n[n.INNER=2]="INNER",n[n.DISPOSABLE=3]="DISPOSABLE",n[n.GENERATED=4]="GENERATED",n[n.INFO=5]="INFO",(o=u||(u={}))[o.HEADER=0]="HEADER",o[o.NALU=1]="NALU",o[o.END=2]="END",(i=c||(c={}))[i.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",i[i.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",i[i.MAIN_PACKETS=2]="MAIN_PACKETS";var d=function(){function r(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,r){var n={trackId:r+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===r&&(t.audioTrackState=n),t.metadata.videoTrackId===r&&(t.videoTrackState=n),n},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return r.prototype.pushPacket=function(e,t,r){switch(this.state===c.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var n=this.audioTrackState,o=function(e){var t,r=0,n=a.RAW,o=e[r],i=o>>4;switch(r++,i){case 10:n=e[r++],t=1024;break;case 2:var s=e[r+1]>>3&3,u=e[r+1]>>1&3;t=1===u?3===s?1152:576:3===u?384:1152}return{codecDescription:h[i],codecId:i,data:e.subarray(r),rate:l[o>>2&3],size:2&o?16:8,channels:1&o?2:1,samples:t,packetType:n}}(t);if(!n||n.trackInfo.codecId!==o.codecId)throw Error("Unexpected audio packet codec: "+o.codecDescription);switch(o.codecId){default:throw Error("Unsupported audio codec: "+o.codecDescription);case 2:break;case 10:if(o.packetType===a.HEADER){n.initializationData.push(o.data);return}}this.cachedPackets.push({packet:o,timestamp:r,trackId:n.trackId});break;case 9:var i=this.videoTrackState,s=function(e){var t=0,r=e[0]>>4,n=15&e[t];t++;var o={frameType:r,codecId:n,codecDescription:f[n]};switch(n){case 7:var i=e[t++];o.packetType=i,o.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case 4:o.packetType=u.NALU,o.horizontalOffset=e[t]>>4&15,o.verticalOffset=15&e[t],o.compositionTime=0,t++}return o.data=e.subarray(t),o}(t);if(!i||i.trackInfo.codecId!==s.codecId)throw Error("Unexpected video packet codec: "+s.codecDescription);switch(s.codecId){default:throw Error("unsupported video codec: "+s.codecDescription);case 4:break;case 7:if(s.packetType===u.HEADER){i.initializationData.push(s.data);return}}this.cachedPackets.push({packet:s,timestamp:r,trackId:i.trackId});break;default:throw Error("unknown packet type: "+e)}this.state===c.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=50&&this.state===c.MAIN_PACKETS&&this._chunk()},r.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},r.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return 10===e.trackInfo.codecId||7===e.trackInfo.codecId})?this.state=c.NEED_HEADER_DATA:this.state=c.CAN_GENERATE_HEADER},r.prototype._tryGenerateHeader=function(){if(this.trackStates.every(function(e){switch(e.trackInfo.codecId){case 10:case 7:return e.initializationData.length>0;default:return!0}})){for(var r=["isom"],n=[],o=0;o<this.trackStates.length;o++){var i,a,s=this.trackStates[o],u=s.trackInfo;switch(u.codecId){case 10:var l=s.initializationData[0];i=new e.Iso.AudioSampleEntry("mp4a",1,u.channels,u.samplesize,u.samplerate);var h=new Uint8Array(41+l.length);h.set(t("0000000003808080"),0),h[8]=32+l.length,h.set(t("00020004808080"),9),h[16]=18+l.length,h.set(t("40150000000000FA000000000005808080"),17),h[34]=l.length,h.set(l,35),h.set(t("068080800102"),35+l.length),i.otherBoxes=[new e.Iso.RawTag("esds",h)];var f=l[0]>>3;s.mimeTypeCodec="mp4a.40."+f;break;case 2:i=new e.Iso.AudioSampleEntry(".mp3",1,u.channels,u.samplesize,u.samplerate),s.mimeTypeCodec="mp3";break;case 7:var d=s.initializationData[0];(i=new e.Iso.VideoSampleEntry("avc1",1,u.width,u.height)).otherBoxes=[new e.Iso.RawTag("avcC",d)];var p=d[1]<<16|d[2]<<8|d[3];s.mimeTypeCodec="avc1."+(16777216|p).toString(16).substr(1),r.push("iso2","avc1","mp41");break;case 4:(i=new e.Iso.VideoSampleEntry("VP6F",1,u.width,u.height)).otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],s.mimeTypeCodec="avc1.42001E";break;default:throw Error("not supported track type")}var g=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;s===this.audioTrackState?a=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(g,s.trackId,-1,0,0,1,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(u.timescale,-1,u.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):s===this.videoTrackState&&(a=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(g,s.trackId,-1,u.width,u.height,0,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(u.timescale,-1,u.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),n.push(a)}var E=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),_=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),v=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),m=new e.Iso.MovieBox(v,n,E,_),y=new e.Iso.FileTypeBox("isom",512,r),S=y.layout(0),P=m.layout(S),b=new Uint8Array(S+P);y.write(b),m.write(b),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(b),this.filePos+=b.length,this.state=c.MAIN_PACKETS}},r.prototype._chunk=function(){var t=this.cachedPackets;if(this.videoTrackState){for(var r=t.length-1,n=this.videoTrackState.trackId;r>0&&(t[r].trackId!==n||t[r].packet.frameType!==s.KEY);)r--;r>0&&(t=t.slice(0,r))}if(0!==t.length){for(var o=[],i=0,a=[],u=[],c=0;c<this.trackStates.length;c++){var l,h,f,d=this.trackStates[c],p=d.trackInfo,g=d.trackId,E=t.filter(function(e){return e.trackId===g});if(0!==E.length){var _=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(d.cachedDuration);switch(u.push(i),p.codecId){case 10:case 2:f=[];for(var r=0;r<E.length;r++){var v=E[r].packet,m=Math.round(v.samples*p.timescale/p.samplerate);o.push(v.data),i+=v.data.length,f.push({duration:m,size:v.data.length}),d.samplesProcessed+=v.samples}var y=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;l=new e.Iso.TrackFragmentHeaderBox(y,g,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var S=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT;h=new e.Iso.TrackRunBox(S,f,0,0),d.cachedDuration=Math.round(d.samplesProcessed*p.timescale/p.samplerate);break;case 7:case 4:f=[];for(var P=d.samplesProcessed,b=Math.round(P*p.timescale/p.framerate),r=0;r<E.length;r++){var T=E[r].packet,R=Math.round(++P*p.timescale/p.framerate),A=R-b;b=R;var I=Math.round(P*p.timescale/p.framerate+T.compositionTime*p.timescale/1e3);o.push(T.data),i+=T.data.length;var D=T.frameType===s.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;f.push({duration:A,size:T.data.length,flags:D,compositionTimeOffset:I-R})}var y=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;l=new e.Iso.TrackFragmentHeaderBox(y,g,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var S=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;h=new e.Iso.TrackRunBox(S,f,0,0),d.cachedDuration=b,d.samplesProcessed=P;break;default:throw Error("Un codec")}var w=new e.Iso.TrackFragmentBox(l,_,h);a.push(w)}}this.cachedPackets.splice(0,t.length);for(var N=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),M=new e.Iso.MovieFragmentBox(N,a),O=M.layout(0),x=new e.Iso.MediaDataBox(o),F=x.layout(O),C=O+8,c=0;c<a.length;c++)a[c].run.dataOffset=C+u[c];var k=new Uint8Array(O+F);M.write(k),x.write(k),this.ondata(k),this.filePos+=k.length}},r}();e.MP4Mux=d,e.parseFLVMetadata=function(e){var t,r,n,o,i=[],a=-1,s=-1,u=+e.asGetPublicProperty("duration"),c=e.asGetPublicProperty("audiocodecid");switch(c){case 2:case"mp3":t="mp3",r=2;break;case 10:case"mp4a":t="mp4a",r=10;break;default:if(!isNaN(c))throw Error("Unsupported audio codec: "+c);t=null,r=-1}var l=e.asGetPublicProperty("videocodecid");switch(l){case 4:case"vp6f":n="vp6f",o=4;break;case 7:case"avc1":n="avc1",o=7;break;default:if(!isNaN(l))throw Error("Unsupported video codec: "+l);n=null,o=-1}var h=null===t?null:{codecDescription:t,codecId:r,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},f=null===n?null:{codecDescription:n,codecId:o,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},d=e.asGetPublicProperty("trackinfo");if(d)for(var p=0;p<d.length;p++){var g=d[p],E=g.asGetPublicProperty("sampledescription")[0];E.asGetPublicProperty("sampletype")===c?(h.language=g.asGetPublicProperty("language"),h.timescale=+g.asGetPublicProperty("timescale")):E.asGetPublicProperty("sampletype")===l&&(f.language=g.asGetPublicProperty("language"),f.timescale=+g.asGetPublicProperty("timescale"))}return f&&(s=i.length,i.push(f)),h&&(a=i.length,i.push(h)),{tracks:i,duration:u,audioTrackId:a,videoTrackId:s}},e.splitMetadata=function(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}}((i=u||(u={})).MP4||(i.MP4={})),function(e){var t,r,n,o,i,a,s=c.StringUtilities.utf8decode,u=[1,0,0,0,1,0,0,0,1],h=[0,0,0];function f(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Array.prototype.concat.apply(e,t)}function d(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function p(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function g(e){return(e- -20828448e5)/1e3|0}function E(e){return 65536*e|0}function _(e){return 1073741824*e|0}var v=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return(d(e,this.offset,this.size),d(e,this.offset+4,p(this.boxtype)),this.userType)?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=new Uint8Array(this.layout(0));return this.write(e),e},e}();e.Box=v;var m=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=e.call(this,t)||this;return o.version=r,o.flags=n,o}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.version<<24|this.flags),r+4},t}(v);e.FullBox=m;var y=function(e){function t(t,r,n){var o=e.call(this,"ftype")||this;return o.majorBrand=t,o.minorVersion=r,o.compatibleBrands=n,o}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var r=this,n=e.prototype.write.call(this,t);return d(t,this.offset+n,p(this.majorBrand)),d(t,this.offset+n+4,this.minorVersion),n+=8,this.compatibleBrands.forEach(function(e){d(t,r.offset+n,p(e)),n+=4},this),n},t}(v);e.FileTypeBox=y;var S=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(r+=e.layout(t+r))}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(r+=e.write(t))}),r},t}(v);e.BoxContainerBox=S;var P=function(e){function t(t,r,n,o){var i=e.call(this,"moov",f([t],r,[n,o]))||this;return i.header=t,i.tracks=r,i.extendsBox=n,i.userData=o,i}return l(t,e),t}(S);e.MovieBox=P;var b=function(e){function t(t,r,n,o,i,a,s,c){void 0===o&&(o=1),void 0===i&&(i=1),void 0===a&&(a=u),void 0===s&&(s=-20828448e5),void 0===c&&(c=-20828448e5);var l=e.call(this,"mvhd",0,0)||this;return l.timescale=t,l.duration=r,l.nextTrackId=n,l.rate=o,l.volume=i,l.matrix=a,l.creationTime=s,l.modificationTime=c,l}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,g(this.creationTime)),d(t,this.offset+r+4,g(this.modificationTime)),d(t,this.offset+r+8,this.timescale),d(t,this.offset+r+12,this.duration),r+=16,d(t,this.offset+r,E(this.rate)),d(t,this.offset+r+4,(256*this.volume|0)<<16),d(t,this.offset+r+8,0),d(t,this.offset+r+12,0),r+=16,d(t,this.offset+r,E(this.matrix[0])),d(t,this.offset+r+4,E(this.matrix[1])),d(t,this.offset+r+8,E(this.matrix[2])),d(t,this.offset+r+12,E(this.matrix[3])),d(t,this.offset+r+16,E(this.matrix[4])),d(t,this.offset+r+20,E(this.matrix[5])),d(t,this.offset+r+24,_(this.matrix[6])),d(t,this.offset+r+28,_(this.matrix[7])),d(t,this.offset+r+32,_(this.matrix[8])),r+=36,d(t,this.offset+r,0),d(t,this.offset+r+4,0),d(t,this.offset+r+8,0),d(t,this.offset+r+12,0),d(t,this.offset+r+16,0),d(t,this.offset+r+20,0),r+=24,d(t,this.offset+r,this.nextTrackId),r+=4},t}(m);e.MovieHeaderBox=b,(t=e.TrackHeaderFlags||(e.TrackHeaderFlags={}))[t.TRACK_ENABLED=1]="TRACK_ENABLED",t[t.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",t[t.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW";var T=function(e){function t(t,r,n,o,i,a,s,c,l,h,f){void 0===s&&(s=0),void 0===c&&(c=0),void 0===l&&(l=u),void 0===h&&(h=-20828448e5),void 0===f&&(f=-20828448e5);var d=e.call(this,"tkhd",0,t)||this;return d.trackId=r,d.duration=n,d.width=o,d.height=i,d.volume=a,d.alternateGroup=s,d.layer=c,d.matrix=l,d.creationTime=h,d.modificationTime=f,d}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,g(this.creationTime)),d(t,this.offset+r+4,g(this.modificationTime)),d(t,this.offset+r+8,this.trackId),d(t,this.offset+r+12,0),d(t,this.offset+r+16,this.duration),r+=20,d(t,this.offset+r,0),d(t,this.offset+r+4,0),d(t,this.offset+r+8,this.layer<<16|this.alternateGroup),d(t,this.offset+r+12,(256*this.volume|0)<<16),r+=16,d(t,this.offset+r,E(this.matrix[0])),d(t,this.offset+r+4,E(this.matrix[1])),d(t,this.offset+r+8,E(this.matrix[2])),d(t,this.offset+r+12,E(this.matrix[3])),d(t,this.offset+r+16,E(this.matrix[4])),d(t,this.offset+r+20,E(this.matrix[5])),d(t,this.offset+r+24,_(this.matrix[6])),d(t,this.offset+r+28,_(this.matrix[7])),d(t,this.offset+r+32,_(this.matrix[8])),r+=36,d(t,this.offset+r,E(this.width)),d(t,this.offset+r+4,E(this.height)),r+=8},t}(m);e.TrackHeaderBox=T;var R=function(e){function t(t,r,n,o,i){void 0===n&&(n="unk"),void 0===o&&(o=-20828448e5),void 0===i&&(i=-20828448e5);var a=e.call(this,"mdhd",0,0)||this;return a.timescale=t,a.duration=r,a.language=n,a.creationTime=o,a.modificationTime=i,a}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var r,n=e.prototype.write.call(this,t);return d(t,this.offset+n,g(this.creationTime)),d(t,this.offset+n+4,g(this.modificationTime)),d(t,this.offset+n+8,this.timescale),d(t,this.offset+n+12,this.duration),d(t,this.offset+n+16,((31&(r=this.language).charCodeAt(0))<<10|(31&r.charCodeAt(1))<<5|31&r.charCodeAt(2))<<16),n+20},t}(m);e.MediaHeaderBox=R;var A=function(e){function t(t,r){var n=e.call(this,"hdlr",0,0)||this;return n.handlerType=t,n.name=r,n._encodedName=s(n.name),n}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,0),d(t,this.offset+r+4,p(this.handlerType)),d(t,this.offset+r+8,0),d(t,this.offset+r+12,0),d(t,this.offset+r+16,0),r+=20,t.set(this._encodedName,this.offset+r),t[this.offset+r+this._encodedName.length]=0,r+=this._encodedName.length+1},t}(m);e.HandlerBox=A;var I=function(e){function t(t){void 0===t&&(t=0);var r=e.call(this,"smhd",0,0)||this;return r.balance=t,r}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,(256*this.balance|0)<<16),r+4},t}(m);e.SoundMediaHeaderBox=I;var D=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=h);var n=e.call(this,"vmhd",0,0)||this;return n.graphicsMode=t,n.opColor=r,n}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.graphicsMode<<16|this.opColor[0]),d(t,this.offset+r+4,this.opColor[1]<<16|this.opColor[2]),r+8},t}(m);e.VideoMediaHeaderBox=D,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var w=function(t){function r(r,n){void 0===n&&(n=null);var o=t.call(this,"url ",0,r)||this;return o.location=n,r&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(o._encodedLocation=s(n)),o}return l(r,t),r.prototype.layout=function(e){var r=t.prototype.layout.call(this,e);return this._encodedLocation&&(r+=this._encodedLocation.length+1),this.size=r},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+r),e[this.offset+r+this._encodedLocation.length]=0,r+=this._encodedLocation.length),r},r}(m);e.DataEntryUrlBox=w;var N=function(e){function t(t){var r=e.call(this,"dref",0,0)||this;return r.entries=t,r}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.entries.length),this.entries.forEach(function(e){r+=e.write(t)}),r},t}(m);e.DataReferenceBox=N;var M=function(e){function t(t){var r=e.call(this,"dinf",[t])||this;return r.dataReference=t,r}return l(t,e),t}(S);e.DataInformationBox=M;var O=function(e){function t(t){var r=e.call(this,"stsd",0,0)||this;return r.entries=t,r}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=4,this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.entries.length),r+=4,this.entries.forEach(function(e){r+=e.write(t)}),r},t}(m);e.SampleDescriptionBox=O;var x=function(e){function t(t,r,n,o,i){var a=e.call(this,"stbl",[t,r,n,o,i])||this;return a.sampleDescriptions=t,a.timeToSample=r,a.sampleToChunk=n,a.sampleSizes=o,a.chunkOffset=i,a}return l(t,e),t}(S);e.SampleTableBox=x;var F=function(e){function t(t,r,n){var o=e.call(this,"minf",[t,r,n])||this;return o.header=t,o.info=r,o.sampleTable=n,o}return l(t,e),t}(S);e.MediaInformationBox=F;var C=function(e){function t(t,r,n){var o=e.call(this,"mdia",[t,r,n])||this;return o.header=t,o.handler=r,o.info=n,o}return l(t,e),t}(S);e.MediaBox=C;var k=function(e){function t(t,r){var n=e.call(this,"trak",[t,r])||this;return n.header=t,n.media=r,n}return l(t,e),t}(S);e.TrackBox=k;var U=function(e){function t(t,r,n,o,i){var a=e.call(this,"trex",0,0)||this;return a.trackId=t,a.defaultSampleDescriptionIndex=r,a.defaultSampleDuration=n,a.defaultSampleSize=o,a.defaultSampleFlags=i,a}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.trackId),d(t,this.offset+r+4,this.defaultSampleDescriptionIndex),d(t,this.offset+r+8,this.defaultSampleDuration),d(t,this.offset+r+12,this.defaultSampleSize),d(t,this.offset+r+16,this.defaultSampleFlags),r+20},t}(m);e.TrackExtendsBox=U;var L=function(e){function t(t,r,n){var o=e.call(this,"mvex",f([t],r,[n]))||this;return o.header=t,o.tracDefaults=r,o.levels=n,o}return l(t,e),t}(S);e.MovieExtendsBox=L;var B=function(e){function t(t,r){var n=e.call(this,"meta",0,0)||this;return n.handler=t,n.otherBoxes=r,n}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=this.handler.layout(t+r),this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return r+=this.handler.write(t),this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},t}(m);e.MetaBox=B;var z=function(e){function t(t){var r=e.call(this,"mfhd",0,0)||this;return r.sequenceNumber=t,r}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.sequenceNumber),r+4},t}(m);e.MovieFragmentHeaderBox=z,(r=i=e.TrackFragmentFlags||(e.TrackFragmentFlags={}))[r.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",r[r.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",r[r.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",r[r.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",r[r.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT";var G=function(e){function t(t,r,n,o,i,a,s){var u=e.call(this,"tfhd",0,t)||this;return u.trackId=r,u.baseDataOffset=n,u.sampleDescriptionIndex=o,u.defaultSampleDuration=i,u.defaultSampleSize=a,u.defaultSampleFlags=s,u}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.flags;return n&i.BASE_DATA_OFFSET_PRESENT&&(r+=8),n&i.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(r+=4),n&i.DEFAULT_SAMPLE_DURATION_PRESENT&&(r+=4),n&i.DEFAULT_SAMPLE_SIZE_PRESENT&&(r+=4),n&i.DEFAULT_SAMPLE_FLAGS_PRESENT&&(r+=4),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),n=this.flags;return d(t,this.offset+r,this.trackId),r+=4,n&i.BASE_DATA_OFFSET_PRESENT&&(d(t,this.offset+r,0),d(t,this.offset+r+4,this.baseDataOffset),r+=8),n&i.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(d(t,this.offset+r,this.sampleDescriptionIndex),r+=4),n&i.DEFAULT_SAMPLE_DURATION_PRESENT&&(d(t,this.offset+r,this.defaultSampleDuration),r+=4),n&i.DEFAULT_SAMPLE_SIZE_PRESENT&&(d(t,this.offset+r,this.defaultSampleSize),r+=4),n&i.DEFAULT_SAMPLE_FLAGS_PRESENT&&(d(t,this.offset+r,this.defaultSampleFlags),r+=4),r},t}(m);e.TrackFragmentHeaderBox=G;var H=function(e){function t(t){var r=e.call(this,"tfdt",0,0)||this;return r.baseMediaDecodeTime=t,r}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,this.baseMediaDecodeTime),r+4},t}(m);e.TrackFragmentBaseMediaDecodeTimeBox=H;var j=function(e){function t(t,r,n){var o=e.call(this,"traf",[t,r,n])||this;return o.header=t,o.decodeTime=r,o.run=n,o}return l(t,e),t}(S);e.TrackFragmentBox=j,(n=e.SampleFlags||(e.SampleFlags={}))[n.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",n[n.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",n[n.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",n[n.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",n[n.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",n[n.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",n[n.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",n[n.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",n[n.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK",(o=a=e.TrackRunFlags||(e.TrackRunFlags={}))[o.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",o[o.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",o[o.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",o[o.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",o[o.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",o[o.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET";var q=function(e){function t(t,r,n,o){var i=e.call(this,"trun",1,t)||this;return i.samples=r,i.dataOffset=n,i.firstSampleFlags=o,i}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.samples.length,o=this.flags;return o&a.DATA_OFFSET_PRESENT&&(r+=4),o&a.FIRST_SAMPLE_FLAGS_PRESENT&&(r+=4),o&a.SAMPLE_DURATION_PRESENT&&(r+=4*n),o&a.SAMPLE_SIZE_PRESENT&&(r+=4*n),o&a.SAMPLE_FLAGS_PRESENT&&(r+=4*n),o&a.SAMPLE_COMPOSITION_TIME_OFFSET&&(r+=4*n),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),n=this.samples.length,o=this.flags;d(t,this.offset+r,n),r+=4,o&a.DATA_OFFSET_PRESENT&&(d(t,this.offset+r,this.dataOffset),r+=4),o&a.FIRST_SAMPLE_FLAGS_PRESENT&&(d(t,this.offset+r,this.firstSampleFlags),r+=4);for(var i=0;i<n;i++){var s=this.samples[i];o&a.SAMPLE_DURATION_PRESENT&&(d(t,this.offset+r,s.duration),r+=4),o&a.SAMPLE_SIZE_PRESENT&&(d(t,this.offset+r,s.size),r+=4),o&a.SAMPLE_FLAGS_PRESENT&&(d(t,this.offset+r,s.flags),r+=4),o&a.SAMPLE_COMPOSITION_TIME_OFFSET&&(d(t,this.offset+r,s.compositionTimeOffset),r+=4)}return r},t}(m);e.TrackRunBox=q;var V=function(e){function t(t,r){var n=e.call(this,"moof",f([t],r))||this;return n.header=t,n.trafs=r,n}return l(t,e),t}(S);e.MovieFragmentBox=V;var J=function(e){function t(t){var r=e.call(this,"mdat")||this;return r.chunks=t,r}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){r+=e.length}),this.size=r},t.prototype.write=function(t){var r=this,n=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,r.offset+n),n+=e.length},this),n},t}(v);e.MediaDataBox=J;var K=function(e){function t(t,r){var n=e.call(this,t)||this;return n.dataReferenceIndex=r,n}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,0),d(t,this.offset+r+4,this.dataReferenceIndex),r+8},t}(v);e.SampleEntry=K;var Q=function(e){function t(t,r,n,o,i,a){void 0===n&&(n=2),void 0===o&&(o=16),void 0===i&&(i=44100),void 0===a&&(a=null);var s=e.call(this,t,r)||this;return s.channelCount=n,s.sampleSize=o,s.sampleRate=i,s.otherBoxes=a,s}return l(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return d(t,this.offset+r,0),d(t,this.offset+r+4,0),d(t,this.offset+r+8,this.channelCount<<16|this.sampleSize),d(t,this.offset+r+12,0),d(t,this.offset+r+16,this.sampleRate<<16),r+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},t}(K);e.AudioSampleEntry=Q,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var W=function(t){function r(r,n,o,i,a,s,u,c,l,h){void 0===a&&(a=""),void 0===s&&(s=72),void 0===u&&(u=72),void 0===c&&(c=1),void 0===l&&(l=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===h&&(h=null);var f=t.call(this,r,n)||this;if(f.width=o,f.height=i,f.compressorName=a,f.horizResolution=s,f.vertResolution=u,f.frameCount=c,f.depth=l,f.otherBoxes=h,a.length>31)throw Error("invalid compressor name");return f}return l(r,t),r.prototype.layout=function(e){var r=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){r+=t.layout(e+r)}),this.size=r},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);d(e,this.offset+r,0),d(e,this.offset+r+4,0),d(e,this.offset+r+8,0),d(e,this.offset+r+12,0),r+=16,d(e,this.offset+r,this.width<<16|this.height),d(e,this.offset+r+4,E(this.horizResolution)),d(e,this.offset+r+8,E(this.vertResolution)),r+=12,d(e,this.offset+r,0),d(e,this.offset+r+4,this.frameCount<<16),r+=6,e[this.offset+r]=this.compressorName.length;for(var n=0;n<31;n++)e[this.offset+r+n+1]=n<this.compressorName.length?127&this.compressorName.charCodeAt(n):0;return r+=32,d(e,this.offset+r,this.depth<<16|65535),r+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){r+=t.write(e)}),r},r}(K);e.VideoSampleEntry=W;var Y=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return l(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return t.set(this.data,this.offset+r),r+this.data.length},t}(v);e.RawTag=Y}((s=(a=u||(u={})).MP4||(a.MP4={})).Iso||(s.Iso={})),t.MP4Mux=u.MP4.MP4Mux},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=r(34);t.OggOpusToWebm={getInputFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},getOutputFormat:function(){return{mimeType:"audio/webm",audioCodec:{id:"opus"}}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob(function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,a=[],s=null,u=new Uint8Array(0),c=!1,l=null,h=!1;function f(r){h=!0,t.reject(r),e.abort()}return e.onProgressUpdate(function(e){if(!h){var t=[u,e.data];!c&&e.initData&&(t=[e.initData].concat(t)),c=!0;var d=n.helpers.arrayBuffer.combine(t);try{var p=o.retrievePages(d).pages,g=p.reduce(function(e,t){return e+t.entirePage.byteLength},0);u=new Uint8Array(d.buffer.slice(g));var E=o.retrievePackets(p);if(E.length&&!s){if(E.length<2)throw Error("Expecting at least 2 opus packets.");i.parseOpusHead(E[0]).outputGain>-2&&i.setOutputGain(E[0],-2),s=[E[0],E[1]],E=E.slice(2)}if(E.length&&s){a.push.apply(a,E);var _=i.buildWebm(s.concat(E));l||(l=_.initData),r.dispatch({initData:l,data:_.data})}}catch(e){f(e)}}}),e.onCompletion(function(e){u.byteLength?t.reject(Error("Still data left in buffer.")):t.resolve(e)}),e.onError(f),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){if(a.length&&s){var e=i.buildWebm(s.concat(a)).data;return{initData:l,data:e}}return null}},abort:function(){h=!0,e.abort()}}}).run()}}},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.MP4ToMP4={getInputFormat:function(){return{mimeType:"audio/mp4"}},getOutputFormat:function(){return{mimeType:"audio/mp4"}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob(function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,o=[],i=[],a=new Uint8Array(0),s=null,u=!1,c=function(e){if(e.byteLength<4){a=e;return}if(null===s){var t=new DataView(e.buffer).getUint32(0);if(1===t)throw Error("Large atom size not supported.");s=t}if(0!==s&&e.byteLength>=s){var r=new Uint8Array(e.buffer.slice(0,s));i.push(r),a=new Uint8Array(e.buffer.slice(s)),s=null,c(a)}else a=e};function l(r){t.reject(r),e.abort()}return e.onProgressUpdate(function(e){var t=e.data;!u&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),u=!0;try{var s=n.helpers.arrayBuffer.combine([a,t]);if(c(s),i.length){var h=n.helpers.arrayBuffer.combine(i);i.splice(0),o.push(h),r.dispatch({data:h})}}catch(e){l(e)}}),e.onCompletion(function(e){try{if(0===s)o.push(a),r.dispatch({data:a});else if(a.byteLength)throw Error("Part way through an atom.");t.resolve(e)}catch(e){l(e)}}),e.onError(l),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return o.length?{data:n.helpers.arrayBuffer.combine(o)}:null}},abort:function(){e.abort()}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(10),i=r(37),a=r(5),s=r(1),u=r(6),c=r(9),l=r(38);(n=t.retrievalErrors||(t.retrievalErrors={})).NoDecryptorError=o.NoDecryptorError,n.PlaylistParseError=i.PlaylistParseError,n.OggParserError=a.OggParserError,n.Mp3TransmuxerRetrievalError=u.Mp3TransmuxerRetrievalError,n.RetrievalError=s.RetrievalError,n.UnacceptableResponseStatusCodeError=c.UnacceptableResponseStatusCodeError,n.UnsupportedEncryptionError=l.UnsupportedEncryptionError},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._details=t,r}return o(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(r(1).RetrievalError);t.PlaylistParseError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(r(1).RetrievalError);t.UnsupportedEncryptionError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(40),i=r(41),a=r(42),s=r(8);(n=t.events||(t.events={})).InitData=o.InitData,n.Key=i.Key,n.Playlist=a.Playlist,n.Segment=s.Segment},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.InitData=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=n}])},e.exports=n(r(26177),r(8847),r(33778))}}]);