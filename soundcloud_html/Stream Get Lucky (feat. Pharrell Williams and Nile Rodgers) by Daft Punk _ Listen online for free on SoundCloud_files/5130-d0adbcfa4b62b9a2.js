(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5130],{21477:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(99765),o=r(59790),i=r(78346),a=r(72392),s=r(95289),u=r(7898),l=r(5356),p=r(45891),d=r(71392),c=r(82867),f=r(34122),h=r(26195),g=r(8376);function _(e){return(0,g.Z)("MuiLink",e)}let y=(0,h.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var m=r(93836),v=r(38793);let b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},E=e=>b[e]||e;var S=e=>{let{theme:t,ownerState:r}=e,n=E(r.color),o=(0,m.DW)(t,`palette.${n}`,!1)||r.color,i=(0,m.DW)(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:(0,v.Fq)(o,.4)},w=r(52015);let P=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],R=e=>{let{classes:t,component:r,focusVisible:n,underline:o}=e,i={root:["root",`underline${(0,u.Z)(o)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,s.Z)(i,_,t)},M=(0,l.ZP)(f.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`underline${(0,u.Z)(r.underline)}`],"button"===r.component&&t.button]}})(e=>{let{theme:t,ownerState:r}=e;return(0,o.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,o.Z)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:S({theme:t,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}})});var O=i.forwardRef(function(e,t){let r=(0,p.Z)({props:e,name:"MuiLink"}),{className:s,color:u="primary",component:l="a",onBlur:f,onFocus:h,TypographyClasses:g,underline:_="always",variant:y="inherit",sx:m}=r,v=(0,n.Z)(r,P),{isFocusVisibleRef:E,onBlur:S,onFocus:O,ref:x}=(0,d.Z)(),[T,A]=i.useState(!1),C=(0,c.Z)(t,x),L=(0,o.Z)({},r,{color:u,component:l,focusVisible:T,underline:_,variant:y}),D=R(L);return(0,w.jsx)(M,(0,o.Z)({color:u,className:(0,a.Z)(D.root,s),classes:g,component:l,onBlur:e=>{S(e),!1===E.current&&A(!1),f&&f(e)},onFocus:e=>{O(e),!0===E.current&&A(!0),h&&h(e)},ref:C,ownerState:L,variant:y,sx:[...Object.keys(b).includes(u)?[]:[{color:u}],...Array.isArray(m)?m:[m]]},v))})},87889:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return o(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(r(0).errors.PlayerFatalError);t.AppendError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return o(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(r(0).errors.PlayerFatalError);t.InitializeError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this,"An error occurred when trying to retrieve a playlist/segment/key.",t)||this;return r._internalRetrievalError=t,r}return o(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(r(0).errors.PlayerError);t.RetrievalError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return o(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(r(0).errors.NotSupportedError);t.NoTransmuxerError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.PLAYLIST_UPDATE_ERROR"},t}(r(0).errors.PlayerFatalError);t.PlaylistUpdateError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088;var n=r(9);t.HLSMSEPlayer=n.HLSMSEPlayer;var o=r(15);t.errors=o.errors;var i=r(1);t.retrievalErrors=i.retrievalErrors},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),u=r(10),l=r(14),p=r(3),d=r(4),c=r(5),f=r(6),h=r(7),g=i.helpers.find,_=i.helpers.Promise,y=i.helpers.time.now,m=i.errors.PlayerFatalError,v=i.eventDispatcher.EventDispatcher,b=i.logger.prefixLogger,E=i.helpers.abortableJob.abortedError,S=i.helpers.browser.isSafari();function w(e){if(!e.hasEnded())return 1/0;var t=e.getCompleteDuration();if(null===t)throw Error("Expected playlist duration to be available.");return t}function P(e){var t=g(a.TransmuxerFactory.retrieveTransmuxers(e),function(t){var r=s.helpers.mimeType.buildMimeTypeFromFormat(t.getOutputFormat(),e);return!!r&&u.MSE.isSupported(r)})||null;if(!t)return null;var r=t.getOutputFormat(),n=s.helpers.mimeType.buildMimeTypeFromFormat(r,e);return n?{transmuxer:t,mimeType:n}:null}var R=function(e){function t(t,r){var n=e.call(this,r)||this;if(n._onSegmentRequestQueued=new v,n._onSegmentRequestStart=new v,n._onSegmentRetrieved=new v,n._onSegmentRequestFailed=new v,n._onSegmentReady=new v,n._onSegmentAppendQueued=new v,n._onSegmentAppendEnd=new v,n._playlist=null,n._playlistSegmentRetriever=null,n._playlistUpdateJob=null,n._initialPlaylistRetrieveCompleted=!1,n._playlistUpdateTimer=null,n._earliestAllowedNextUpdateTime=y(),n._mse=null,n._simpleMSE=null,n._transmuxerAndMimeType=null,n._lastSegmentAppended=null,n._maxBufferLength=null,n._cacheSize=null,n._playlistUpdateEventHandle=null,n._playlistDuration=null,n._logger=b(n._logger,"HLSMSEPlayer"),void 0!==r.maxBufferLength&&r.maxBufferLength<0)throw Error("maxBufferLength cannot be < 0.");if(void 0!==r.memoryCacheSize&&r.memoryCacheSize<0)throw Error("memoryCacheSize cannot be < 0.");return n.onSegmentRequestQueued=n._onSegmentRequestQueued.getHandle(),n.onSegmentRequestStart=n._onSegmentRequestStart.getHandle(),n.onSegmentRetrieved=n._onSegmentRetrieved.getHandle(),n.onSegmentRequestFailed=n._onSegmentRequestFailed.getHandle(),n.onSegmentReady=n._onSegmentReady.getHandle(),n.onSegmentAppendQueued=n._onSegmentAppendQueued.getHandle(),n.onSegmentAppendEnd=n._onSegmentAppendEnd.getHandle(),n.__descriptor=t,n.__playerDependencies=r,n._queuedPlaylist=t.playlist,n}return o(t,e),t.isFormatSupported=function(e){return!!u.MSE.isSupported()&&!!P(e)},t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?i.TimeRange.normalize(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getCompleteBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?i.TimeRange.normalize(e.getSegmentsWithData().filter(function(e){return e.complete}).map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(t<0)throw Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.switchPlaylist=function(e){if(this._logger.debug("Updating playlist."),!this._hasInitialized()){this._logger.debug("Cannot update right now. Still initializing."),this._queuedPlaylist=e;return}this._playlistSegmentRetriever&&(this._playlistSegmentRetriever.switchPlaylist(null),this._logger.debug("Removed current URL.")),this._disposePlaylist(),this._setPlaylist(e)},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(t<0)throw Error("Max size cannot be < 0.");e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){if(!u.MSE.isSupported())return this._logger.debug("MSE not supported."),_.resolve(!1);var e=P(this.__descriptor.segmentFormat);return e?(this._transmuxerAndMimeType=e,_.resolve(!0)):(this._logger.debug("No transmuxer found."),_.resolve(new f.NoTransmuxerError))},t.prototype._getUrlForMediaElement=function(){if(!this._mse)throw Error("MSE does not exist.");return this._mse.getUrl()},t.prototype._handleDurationUpdates=function(){},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength&&(void 0!==t.maxBufferLength?this._maxBufferLength=t.maxBufferLength:this._maxBufferLength=3e4),this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize&&(void 0!==t.memoryCacheSize?this._cacheSize=t.memoryCacheSize:this._cacheSize=1e8),this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),!this._queuedPlaylist)throw Error("Playlist should exist.");this._setPlaylist(this._queuedPlaylist),this._queuedPlaylist=null},t.prototype._initMediaElement=function(t,r){this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),r?(this._initMSE(),this._initSimpleMSE(),e.prototype._initMediaElement.call(this,t,!0)):e.prototype._initMediaElement.call(this,t,!1)},t.prototype._shouldBeEnded=function(){var t=this._lastSegmentAppended;if(!t||!t.isFinalSegment())return!1;if(!S)return e.prototype._shouldBeEnded.call(this);if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var r=this._duration;return this._stallDetected&&null!==r&&this._getMediaElementPosition()>=r-600},t.prototype._handleSeekChange=function(t,r){e.prototype._handleSeekChange.call(this,t,r),this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update(),this._findSegmentAndAppendToMSE())},t.prototype._performSeek=function(t,r){return this._mse&&!i.TimeRange.rangesContainTime(t,this._mse.getBuffered())&&(this._logger.debug("Seeking to an unbuffered area."),this._initSimpleMSE()),e.prototype._performSeek.call(this,t,r)},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill(),this._simpleMSE=null),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill(),this._mse=null),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill(),this._playlistSegmentRetriever=null),this._disposePlaylist(),e.prototype._kill.call(this)},t.prototype._disposePlaylist=function(){this._playlistUpdateJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistUpdateJob.abort(),this._playlistUpdateJob=null),this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),this._playlistUpdateEventHandle&&(this._playlistUpdateEventHandle.remove(),this._playlistUpdateEventHandle=null),this._playlist=null},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMimeType)throw Error("Transmuxer should have been configured.");var t=this._mse=new u.MSE(this._transmuxerAndMimeType.mimeType,this._logger);t.whenInitialized().then(function(){e._duration&&t.updateDuration(e._duration).catch(function(t){e._logger.warn("Error updating MSE duration.",t)})}).catch(function(t){t!==u.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new d.InitializeError(t)))})},t.prototype._initSimpleMSE=function(){var e=this;if(!this._mse)throw Error("MSE should exist.");this._simpleMSE&&this._simpleMSE.kill(),this._lastSegmentAppended=null;var t=this._simpleMSE=new l.SimpleMSE(this._mse,function(){return e._getSegmentDataToAppendNext()},function(){return e._getMediaElementPosition()},function(t){e._triggerError(new p.AppendError(t))},this._logger);t.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),t.onAppendEnd.subscribe(function(t){if(S){var r=e.getMediaElement();r&&e._isMediaElementPaused(r)&&r.ended&&e.isActuallyPlaying()&&(e._logger.debug("Calling play() on media element because we just appended something and should be playing."),e._callMediaElementPlay(r))}e._onSegmentAppendEnd.dispatch(t)}),t.start()},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var e=this,t=this._playlist;if(!t)throw Error("Playlist should have been retrieved.");if(this._playlistUpdateEventHandle=t.onUpdated.subscribe(function(){e._updateLocalDurationsFromPlaylist(),e._handleDurationChange(),e._schedulePlaylistUpdate()}),this._initialPlaylistRetrieveCompleted){var r=w(t);if(this._playlistDuration<r){this._logger.error("The duration from the new playlist was less than the previous one."),this._triggerError(new h.PlaylistUpdateError("The duration from the new playlist was less than the previous one.",{oldDuration:this._playlistDuration,newDuration:r}));return}}if(!this._transmuxerAndMimeType)throw Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(t);else{var n=this._maxBufferLength;if(null===n)throw Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var o=this._cacheSize;if(null===o)throw Error("cacheSize should be set.");var i=new a.PlaylistSegmentRetriever({playlist:t,getPosition:function(){return e.getPosition()},maxBufferLength:n,cacheSize:o,transmuxer:this._transmuxerAndMimeType.transmuxer,logger:this._logger});i.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),i.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),i.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),i.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),this._playlistSegmentRetriever=i,i.onError.subscribe(function(t){e._logger.error("Error from playlist segment retriever.",t),t instanceof a.retrievalErrors.RetrievalError?e._triggerError(new c.RetrievalError(t)):e._triggerError(new m("Unexpected error when trying to retrieve segment.",t))}),i.onSegmentDataRetrieveStarted.subscribe(function(t){var r=t.segment;e._logger.debug("Segment retrieve started.",r.getEventRepresentation()),e._findSegmentAndAppendToMSE(),e._updateLocalDurationsFromPlaylist(),e._handleDurationChange(),e._onSegmentReady.dispatch({segment:r.getEventRepresentation()})})}t.hasEnded()||this._schedulePlaylistUpdate(),this._updateLocalDurationsFromPlaylist(),this._update(function(){e._handleDurationChange(),e._initialPlaylistRetrieveCompleted=!0})},t.prototype._schedulePlaylistUpdate=function(){var e=this,t=this._playlist;if(!t)throw Error("Playlist should exist.");if((!this._playlistUpdateJob||this._playlistUpdateJob.hasCompleted())&&(this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),!t.hasEnded())){var r=this.isPlaying()?t.getDuration()-this.getPosition()-1e4:1/0,n=t.getExpireTime(),o=n?y()-n:1/0,i=Math.max(Math.max(0,this._earliestAllowedNextUpdateTime-y()),Math.min(r,o,t.getType()===a.PlaylistType.EVENT?1e4:1/0));i<1/0&&(this._earliestAllowedNextUpdateTime=y()+2e3,this._playlistUpdateTimer=window.setTimeout(function(){e._playlistUpdateTimer=null,(e._playlistUpdateJob=t.update()).onError(function(t){t!==E&&(e._handlePlaylistUpdateError(t),e._schedulePlaylistUpdate())})},i))}},t.prototype._updateLocalDurationsFromPlaylist=function(){var e=this,t=this._playlist;if(!t)throw Error("Missing playlist.");var r=this._duration=w(t),n=this._mse;n&&n.whenInitialized().then(function(){return n.updateDuration(r)}).catch(function(t){e._logger.warn("Error updating MSE duration.",t)}),this._playlistDuration=t.getDuration()},t.prototype._findSegmentAndAppendToMSE=function(){var e=this._simpleMSE;if(e&&e.waitingForSegmentData()){var t=this._getSegmentDataToAppendNext();t&&(this._logger.debug("Providing segment to SimpleMSE.",t.eventRepresentation),e.provideNextSegmentData(t))}},t.prototype._setPlaylist=function(e){var t=this;if(this._playlist)throw Error("Playlist already exists.");this._playlist=e,this._playlistUpdateJob=this._playlist.update(),this._playlistUpdateJob.onCompletion(function(){t._logger.debug("Playlist retrieved."),t._whenPlaylistRetrieved()}),this._playlistUpdateJob.onError(function(e){e!==E&&t._handlePlaylistUpdateError(e)})},t.prototype._handlePlaylistUpdateError=function(e){this._logger.error("Error when retrieving playlist.",e),e instanceof a.retrievalErrors.RetrievalError?this._triggerError(new c.RetrievalError(e)):this._triggerError(new m("Unexpected error when retrieving playlist.",e))},t.prototype._getSegmentDataToAppendNext=function(){var e=this._lastSegmentAppended;this._logger.debug("Looking for segment to append next.",!!e);var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;if(e){var r=this._getSubsequentSegment(e);if(!r)return this._logger.debug("No segment found."),e.isFinalSegment()&&(this._logger.debug("The last segment we appended was the last one in the stream. Signalling EOS."),this._signalEOS()),null;var n=r.segment;return this._logger.debug("Found segment.",n.getEventRepresentation()),this._lastSegmentAppended=n,{data:r.dataRetrieveJob,startTime:n.getTimeRange().start,eventRepresentation:n.getEventRepresentation()}}var o=this.getPosition(),r=g(t.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(o)});if(!r)return this._logger.debug("No segment found.",o),null;var n=r.segment,i=r.dataRetrieveJob,a=o-n.getTimeRange().start;if(!this.getMediaElement())throw Error("Media element should exist.");var s={data:i,startTime:n.getTimeRange().start,eventRepresentation:n.getEventRepresentation()};if(!n.isFinalSegment())for(var u=n.getTimeRange().duration-a;u<1e3;){var l=this._getSubsequentSegment(n);if(!l)return this._logger.debug("Not enough segments to cover min append duration.",u),null;l.segment.isFinalSegment()?u=1/0:u+=l.segment.getTimeRange().duration}return this._logger.debug("Found initial segment.",n.getEventRepresentation()),this._lastSegmentAppended=n,s},t.prototype._getSubsequentSegment=function(e){var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;var r=t.getSegmentsWithData(),n=r[r.map(function(e){return e.segment.getSequenceNumber()}).indexOf(e.getSequenceNumber())+1];return n&&n.segment.getTimeRange().start===e.getTimeRange().end?n:null},t.prototype._signalEOS=function(){var e=this;this._logger.debug("Signalling EOS."),this._simpleMSE&&(this._simpleMSE.kill(),this._logger.debug("Killed SimpleMSE."),this._simpleMSE=null);var t=this._mse;t&&!t.eosSignalled()&&t.signalEOS().catch(function(r){if(t===e._mse){if("InvalidStateError"===r.name){e._logger.error("InvalidStateError occurred when signalling EOS.",r);return}e._logger.error("Error occurred when signalling EOS.",r),e._triggerError(new p.AppendError(r))}})},t}(s.HTML5PlayerBase);t.HLSMSEPlayer=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=r(11),a=n.helpers.deferred.buildDeferred,s=o.helpers.timeRanges.buildTimeRanges,u=n.helpers.Promise,l=n.logger.prefixLogger,p=n.logger.noOpLogger,d=n.helpers.browser.isIE(),c=n.helpers.browser.isSafari(),f=n.helpers.browser.isEdge(),h='audio/mp4; codecs="mp3"',g=n.helpers.browser.getSafariVersion(),_=n.helpers.browser.getChromeVersion(),y=c||!!(_&&_.major<=49),m=!!g&&g.major<10&&g.major>=5||!!_&&_.major<=49;t.killedError=Error("MSE killed.");var v=function(){function e(e,t){var r=this.constructor;if(void 0===t&&(t=p),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=a(),this._whenIdleDeferred=a(),this._error=null,this._dead=!1,this._eosSignalled=!1,this._pendingActions=[],this._currentAction=null,this._pendingStartTime=0,this._logger=l(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!r.isSupported(e))throw this._logger.error("Not supported."),Error("Not supported.");c&&e===h&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=m&&0===e.indexOf("audio/mp4"),this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._mediaSource.addEventListener("sourceended",this._onSourceBufferUpdateEnd,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return!d&&!!window.MediaSource&&(!e||!!c&&e===h||(!g||!(g.major<10)||"audio/mpeg"!==e)&&(!_||!(_.major<50)||'audio/webm; codecs="opus"'!==e)&&MediaSource.isTypeSupported(e))},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:u.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){if(this._ensureNotDead(),!this._sourceBuffer)return[];try{return s(this._sourceBuffer.buffered)}catch(e){if("InvalidStateError"===e.name&&"Failed to read the 'buffered' property from 'SourceBuffer': This SourceBuffer has been removed from the parent media source."===e.message)return[];throw e}},e.prototype.append=function(e,t){if(void 0===t&&(t=null),this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("append() called.",t),y&&0===this._type.indexOf("audio/mp4")){this._logger.debug("Rewriting internal timestamp to 0.");try{e=i.clearMP4InternalTimestamp(e,!this._useSegmentsMode)}catch(e){return this._logger.error("Error rewriting timestamps.",e),this._handleError(e),u.reject(e)}}var r=a();if(null!==t&&this._sourceBuffer&&this._sourceBuffer.buffered.length){var o=new n.TimeRange(0,1/0);this._pendingActions.push({type:"remove",deferred:a(),range:o,abort:!0})}return this._pendingActions.push({type:"append",data:e,deferred:r,startTime:t}),this._eosSignalled=!1,this._performNextAction(),r.promise},e.prototype.remove=function(e){if(0===e.duration)throw Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("remove() called.",e);var t=a();return this._pendingActions.push({type:"remove",range:e,deferred:t,abort:!1}),this._eosSignalled=!1,this._performNextAction(),t.promise},e.prototype.signalEOS=function(){if(this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("signalEOS() called."),this._eosSignalled)return this._logger.debug("Ignoring because already signalled EOS."),u.resolve();this._eosSignalled=!0;var e=a();return this._pendingActions.push({type:"eos",deferred:e}),this._performNextAction(),e.promise},e.prototype.updateDuration=function(e){if(e<=0)throw Error("Duration must be > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("updateDuration() called.",e);var t=a();return this._pendingActions.push({type:"duration",duration:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.eosSignalled=function(){return this._eosSignalled},e.prototype.kill=function(){if(!this._dead){this._logger.debug("kill() called."),this._dead=!0,this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("sourceended",this._onSourceBufferUpdateEnd,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),this._sourceBuffer&&(this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1)),URL.revokeObjectURL(this._url);var e=this._error||t.killedError,r=this._currentAction?[this._currentAction]:[];(r=r.concat(this._pendingActions)).forEach(function(t){t.deferred.reject(e)}),this._whenIdleDeferred||(this._whenIdleDeferred=a()),this._whenIdleDeferred.reject(e),this._initialized||this._initializeDeferred.reject(e),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw Error("Not initialized yet.")},e.prototype._ensureNotDead=function(){if(this._error)throw Error("MSE is dead because of error: "+this._error.message);if(this._dead)throw Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._logger.error("Error occurred.",e),this._dead||(this._error=e||Error("Unknown error."),this.kill())},e.prototype._onSourceBufferUpdateEnd=function(){if(!this._dead){var e=this._currentAction;if(!e){this._logger.debug("Ignoring stray updateend event.");return}var t=this.getBuffered();this._logger.debug("Update ended.",t),null!==this._pendingStartTime&&n.TimeRange.getCoverage(t).end>this._pendingStartTime&&(this._pendingStartTime=null),this._currentAction=null,e.deferred.resolve(void 0),this._performNextAction()}},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this,t=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var r=this._pendingActions.shift();if(r)t||(this._whenIdleDeferred=a());else{this._logger.debug("No more actions."),t&&(this._whenIdleDeferred=null,t.resolve(void 0));return}switch(this._currentAction=r,this._logger.debug("Performing next action...",r),r.type){case"append":null!==r.startTime&&(this._pendingStartTime=r.startTime);var o=n.TimeRange.getCoverage(this.getBuffered());try{if(null!==this._pendingStartTime)this._setTimestampOffset(this._sourceBuffer,this._pendingStartTime);else if("segments"===this._sourceBuffer.mode){var i=o.end;this._logger.debug('Setting timestampOffset because in "segments" mode.',i),this._setTimestampOffset(this._sourceBuffer,i)}this._logger.debug("Calling appendBuffer()."),this._sourceBuffer.appendBuffer(r.data)}catch(e){this._handleError(e)}break;case"remove":try{var s=r.range;this._logger.debug("Calling remove().",s.start,s.end),!r.abort||c||f||"open"!==this._mediaSource.readyState||this._sourceBuffer.abort(),this._sourceBuffer.remove(s.start/1e3,s.end/1e3)}catch(e){this._handleError(e)}break;case"duration":this._logger.debug("Updating duration.",r.duration);try{this._mediaSource.duration=r.duration/1e3,window.setTimeout(function(){return e._onSourceBufferUpdateEnd()},0)}catch(t){this._mediaSource.duration>=r.duration/1e3?(this._logger.warn("Failed to update MSE durtion but ignoring because current one is higher.",t),window.setTimeout(function(){return e._onSourceBufferUpdateEnd()},0)):(this._logger.error("Could not update MSE durtion.",t),this._handleError(t))}break;case"eos":try{this._logger.debug("Calling endOfStream()."),this._mediaSource.endOfStream()}catch(e){this._handleError(e)}break;default:this._handleError(Error("Unknown action."))}}},e.prototype._setTimestampOffset=function(e,t){try{return e.timestampOffset=t/1e3,!0}catch(e){if(11===e.code)return this._logger.debug("Failed to set timestampOffset.",e),!1;throw e}},e}();t.MSE=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(12);function i(e,t){for(var r=e.byteLength,n=0;n<r;){var o=e.getUint32(n);if(1===o)throw Error("Large atom size not supported.");if(0===o&&(o=r-n),t(e.getUint32(n+4),new DataView(e.buffer,e.byteOffset+n+8,o-8)))break;n+=o}}t.clearMP4InternalTimestamp=function(e,t){void 0===t&&(t=!1);var r=function(e){var t=e.getUint8(0);e.setUint32(12,0),t>0&&e.setUint32(16,0)},a=function(e){i(e,function(e,t){return 1953653094===e&&(s(t),!0)})},s=function(e){i(e,function(e,t){return 1952867444===e&&(u(t),!0)})},u=function(e){var r,n=e.getUint8(0);t?r=o(0):(r=o(e.getUint32(4)),n>0&&(r=(r=r.shiftLeft(32)).add(e.getUint32(8))),null===p&&(p=r),r=r.subtract(p)),n>0?(e.setUint32(4,r.shiftRight(32).toJSNumber()),e.setUint32(8,r.and(65535).toJSNumber())):e.setUint32(4,r.toJSNumber())},l=n.helpers.arrayBuffer.combine([e]),p=null;return i(new DataView(l.buffer,l.byteOffset,l.byteLength),function(e,t){switch(e){case 1936286840:r(t);break;case 1836019558:a(t)}return!1}),l}},function(e,t,r){(function(e){var r,n=function(e){"use strict";var t=u(9007199254740992),r=Math.log(9007199254740992);function o(e,t){return void 0===e?o[0]:void 0!==t?10==+t?F(e):q(e,t):F(e)}function i(e,t){this.value=e,this.sign=t,this.isSmall=!1}function a(e){this.value=e,this.sign=e<0,this.isSmall=!0}function s(e){return -9007199254740992<e&&e<9007199254740992}function u(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function l(e){p(e);var r=e.length;if(r<4&&0>R(e,t))switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+1e7*e[1];default:return e[0]+(e[1]+1e7*e[2])*1e7}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function d(e){for(var t=Array(e),r=-1;++r<e;)t[r]=0;return t}function c(e){return e>0?Math.floor(e):Math.ceil(e)}function f(e,t){var r,n,o=e.length,i=t.length,a=Array(o),s=0;for(n=0;n<i;n++)s=(r=e[n]+t[n]+s)>=1e7?1:0,a[n]=r-1e7*s;for(;n<o;)s=1e7===(r=e[n]+s)?1:0,a[n++]=r-1e7*s;return s>0&&a.push(s),a}function h(e,t){return e.length>=t.length?f(e,t):f(t,e)}function g(e,t){var r,n,o=e.length,i=Array(o);for(n=0;n<o;n++)t=Math.floor((r=e[n]-1e7+t)/1e7),i[n]=r-1e7*t,t+=1;for(;t>0;)i[n++]=t%1e7,t=Math.floor(t/1e7);return i}function _(e,t){var r,n,o=e.length,i=t.length,a=Array(o),s=0;for(r=0;r<i;r++)(n=e[r]-s-t[r])<0?(n+=1e7,s=1):s=0,a[r]=n;for(r=i;r<o;r++){if((n=e[r]-s)<0)n+=1e7;else{a[r++]=n;break}a[r]=n}for(;r<o;r++)a[r]=e[r];return p(a),a}function y(e,t,r){var n,o,s=e.length,u=Array(s),p=-t;for(n=0;n<s;n++)p=Math.floor((o=e[n]+p)/1e7),o%=1e7,u[n]=o<0?o+1e7:o;return"number"==typeof(u=l(u))?(r&&(u=-u),new a(u)):new i(u,r)}function m(e,t){var r,n,o,i,a=e.length,s=t.length,u=d(a+s);for(o=0;o<a;++o){i=e[o];for(var l=0;l<s;++l)n=Math.floor((r=i*t[l]+u[o+l])/1e7),u[o+l]=r-1e7*n,u[o+l+1]+=n}return p(u),u}function v(e,t){var r,n,o=e.length,i=Array(o),a=0;for(n=0;n<o;n++)a=Math.floor((r=e[n]*t+a)/1e7),i[n]=r-1e7*a;for(;a>0;)i[n++]=a%1e7,a=Math.floor(a/1e7);return i}function b(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function E(e,t,r){return e<1e7?new i(v(t,e),r):new i(m(t,u(e)),r)}function S(e){var t,r,n,o,i=e.length,a=d(i+i);for(n=0;n<i;n++){r=0-(o=e[n])*o;for(var s=n;s<i;s++)r=Math.floor((t=o*e[s]*2+a[n+s]+r)/1e7),a[n+s]=t-1e7*r;a[n+i]=r}return p(a),a}function w(e,t){var r,n,o,i,a=e.length,s=d(a);for(o=0,r=a-1;r>=0;--r)n=c((i=1e7*o+e[r])/t),o=i-n*t,s[r]=0|n;return[s,0|o]}function P(e,t){var r,n,s=F(t),f=e.value,h=s.value;if(0===h)throw Error("Cannot divide by zero");if(e.isSmall)return s.isSmall?[new a(c(f/h)),new a(f%h)]:[o[0],e];if(s.isSmall){if(1===h)return[e,o[0]];if(-1==h)return[e.negate(),o[0]];var g=Math.abs(h);if(g<1e7){r=l((n=w(f,g))[0]);var y=n[1];return(e.sign&&(y=-y),"number"==typeof r)?(e.sign!==s.sign&&(r=-r),[new a(r),new a(y)]):[new i(r,e.sign!==s.sign),new a(y)]}h=u(g)}var m=R(f,h);if(-1===m)return[o[0],e];if(0===m)return[o[e.sign===s.sign?1:-1],o[0]];r=(n=f.length+h.length<=200?function(e,t){var r,n,o,i,a,s,u,p=e.length,c=t.length,f=d(t.length),h=t[c-1],g=Math.ceil(1e7/(2*h)),_=v(e,g),y=v(t,g);for(_.length<=p&&_.push(0),y.push(0),h=y[c-1],n=p-c;n>=0;n--){for(r=1e7-1,_[n+c]!==h&&(r=Math.floor((1e7*_[n+c]+_[n+c-1])/h)),o=0,i=0,s=y.length,a=0;a<s;a++)o+=r*y[a],u=Math.floor(o/1e7),i+=_[n+a]-(o-1e7*u),o=u,i<0?(_[n+a]=i+1e7,i=-1):(_[n+a]=i,i=0);for(;0!==i;){for(r-=1,o=0,a=0;a<s;a++)(o+=_[n+a]-1e7+y[a])<0?(_[n+a]=o+1e7,o=0):(_[n+a]=o,o=1);i+=o}f[n]=r}return _=w(_,g)[0],[l(f),l(_)]}(f,h):function(e,t){for(var r,n,o,i,a,s=e.length,u=t.length,d=[],c=[];s;){if(c.unshift(e[--s]),p(c),0>R(c,t)){d.push(0);continue}n=c.length,o=1e7*c[n-1]+c[n-2],i=1e7*t[u-1]+t[u-2],n>u&&(o=(o+1)*1e7),r=Math.ceil(o/i);do{if(0>=R(a=v(t,r),c))break;r--}while(r);d.push(r),c=_(c,a)}return d.reverse(),[l(d),l(c)]}(f,h))[0];var b=e.sign!==s.sign,E=n[1],S=e.sign;return"number"==typeof r?(b&&(r=-r),r=new a(r)):r=new i(r,b),"number"==typeof E?(S&&(E=-E),E=new a(E)):E=new i(E,S),[r,E]}function R(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function M(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(25)||void 0))}i.prototype=Object.create(o.prototype),a.prototype=Object.create(o.prototype),i.prototype.add=function(e){var t=F(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new i(g(r,Math.abs(n)),this.sign):new i(h(r,n),this.sign)},i.prototype.plus=i.prototype.add,a.prototype.add=function(e){var t=F(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(s(r+n))return new a(r+n);n=u(Math.abs(n))}return new i(g(n,Math.abs(r)),r<0)},a.prototype.plus=a.prototype.add,i.prototype.subtract=function(e){var t,r,n=F(e);if(this.sign!==n.sign)return this.add(n.negate());var o=this.value,s=n.value;return n.isSmall?y(o,Math.abs(s),this.sign):(t=this.sign,(R(o,s)>=0?r=_(o,s):(r=_(s,o),t=!t),"number"==typeof(r=l(r)))?(t&&(r=-r),new a(r)):new i(r,t))},i.prototype.minus=i.prototype.subtract,a.prototype.subtract=function(e){var t=F(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new a(r-n):y(n,Math.abs(r),r>=0)},a.prototype.minus=a.prototype.subtract,i.prototype.negate=function(){return new i(this.value,!this.sign)},a.prototype.negate=function(){var e=this.sign,t=new a(-this.value);return t.sign=!e,t},i.prototype.abs=function(){return new i(this.value,!1)},a.prototype.abs=function(){return new a(Math.abs(this.value))},i.prototype.multiply=function(e){var t,r,n,a=F(e),s=this.value,l=a.value,d=this.sign!==a.sign;if(a.isSmall){if(0===l)return o[0];if(1===l)return this;if(-1===l)return this.negate();if((n=Math.abs(l))<1e7)return new i(v(s,n),d);l=u(n)}return -.012*(t=s.length)-.012*(r=l.length)+15e-6*t*r>0?new i(function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return m(t,r);n=Math.ceil(n/2);var o=t.slice(n),i=t.slice(0,n),a=r.slice(n),s=r.slice(0,n),u=e(i,s),l=e(o,a),d=e(h(i,o),h(s,a)),c=h(h(u,b(_(_(d,u),l),n)),b(l,2*n));return p(c),c}(s,l),d):new i(m(s,l),d)},i.prototype.times=i.prototype.multiply,a.prototype._multiplyBySmall=function(e){return s(e.value*this.value)?new a(e.value*this.value):E(Math.abs(e.value),u(Math.abs(this.value)),this.sign!==e.sign)},i.prototype._multiplyBySmall=function(e){return 0===e.value?o[0]:1===e.value?this:-1===e.value?this.negate():E(Math.abs(e.value),this.value,this.sign!==e.sign)},a.prototype.multiply=function(e){return F(e)._multiplyBySmall(this)},a.prototype.times=a.prototype.multiply,i.prototype.square=function(){return new i(S(this.value),!1)},a.prototype.square=function(){var e=this.value*this.value;return s(e)?new a(e):new i(S(u(Math.abs(this.value))),!1)},i.prototype.divmod=function(e){var t=P(this,e);return{quotient:t[0],remainder:t[1]}},a.prototype.divmod=i.prototype.divmod,i.prototype.divide=function(e){return P(this,e)[0]},a.prototype.over=a.prototype.divide=i.prototype.over=i.prototype.divide,i.prototype.mod=function(e){return P(this,e)[1]},a.prototype.remainder=a.prototype.mod=i.prototype.remainder=i.prototype.mod,i.prototype.pow=function(e){var t,r,n,i=F(e),u=this.value,l=i.value;if(0===l)return o[1];if(0===u)return o[0];if(1===u)return o[1];if(-1===u)return i.isEven()?o[1]:o[-1];if(i.sign)return o[0];if(!i.isSmall)throw Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&s(t=Math.pow(u,l)))return new a(c(t));for(r=this,n=o[1];!0&l&&(n=n.times(r),--l),0!==l;)l/=2,r=r.square();return n},a.prototype.pow=i.prototype.pow,i.prototype.modPow=function(e,t){if(e=F(e),(t=F(t)).isZero())throw Error("Cannot take modPow with modulus 0");for(var r=o[1],n=this.mod(t);e.isPositive();){if(n.isZero())return o[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},a.prototype.modPow=i.prototype.modPow,i.prototype.compareAbs=function(e){var t=F(e),r=this.value,n=t.value;return t.isSmall?1:R(r,n)},a.prototype.compareAbs=function(e){var t=F(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},i.prototype.compare=function(e){if(e===1/0)return -1;if(e===-1/0)return 1;var t=F(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:R(r,n)*(this.sign?-1:1)},i.prototype.compareTo=i.prototype.compare,a.prototype.compare=function(e){if(e===1/0)return -1;if(e===-1/0)return 1;var t=F(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},a.prototype.compareTo=a.prototype.compare,i.prototype.equals=function(e){return 0===this.compare(e)},a.prototype.eq=a.prototype.equals=i.prototype.eq=i.prototype.equals,i.prototype.notEquals=function(e){return 0!==this.compare(e)},a.prototype.neq=a.prototype.notEquals=i.prototype.neq=i.prototype.notEquals,i.prototype.greater=function(e){return this.compare(e)>0},a.prototype.gt=a.prototype.greater=i.prototype.gt=i.prototype.greater,i.prototype.lesser=function(e){return 0>this.compare(e)},a.prototype.lt=a.prototype.lesser=i.prototype.lt=i.prototype.lesser,i.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},a.prototype.geq=a.prototype.greaterOrEquals=i.prototype.geq=i.prototype.greaterOrEquals,i.prototype.lesserOrEquals=function(e){return 0>=this.compare(e)},a.prototype.leq=a.prototype.lesserOrEquals=i.prototype.leq=i.prototype.lesserOrEquals,i.prototype.isEven=function(){return(1&this.value[0])==0},a.prototype.isEven=function(){return(1&this.value)==0},i.prototype.isOdd=function(){return(1&this.value[0])==1},a.prototype.isOdd=function(){return(1&this.value)==1},i.prototype.isPositive=function(){return!this.sign},a.prototype.isPositive=function(){return this.value>0},i.prototype.isNegative=function(){return this.sign},a.prototype.isNegative=function(){return this.value<0},i.prototype.isUnit=function(){return!1},a.prototype.isUnit=function(){return 1===Math.abs(this.value)},i.prototype.isZero=function(){return!1},a.prototype.isZero=function(){return 0===this.value},i.prototype.isDivisibleBy=function(e){var t=F(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(o[0])))},a.prototype.isDivisibleBy=i.prototype.isDivisibleBy,i.prototype.isPrime=function(){var e=M(this);if(void 0!==e)return e;for(var t,r,i,a,s=this.abs(),u=s.prev(),l=[2,3,5,7,11,13,17,19],p=u;p.isEven();)p=p.divide(2);for(i=0;i<l.length;i++)if(!((a=n(l[i]).modPow(p,s)).equals(o[1])||a.equals(u))){for(r=!0,t=p;r&&t.lesser(u);t=t.multiply(2))(a=a.square().mod(s)).equals(u)&&(r=!1);if(r)return!1}return!0},a.prototype.isPrime=i.prototype.isPrime,i.prototype.isProbablePrime=function(e){var t=M(this);if(void 0!==t)return t;for(var r=this.abs(),o=void 0===e?5:e,i=0;i<o;i++)if(!n.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1;return!0},a.prototype.isProbablePrime=i.prototype.isProbablePrime,i.prototype.modInv=function(e){for(var t,r,o,i=n.zero,a=n.one,s=F(e),u=this.abs();!u.equals(n.zero);)t=s.divide(u),r=i,o=s,i=a,s=u,a=r.subtract(t.multiply(a)),u=o.subtract(t.multiply(u));if(!s.equals(1))throw Error(this.toString()+" and "+e.toString()+" are not co-prime");return(-1===i.compare(0)&&(i=i.add(e)),this.isNegative())?i.negate():i},a.prototype.modInv=i.prototype.modInv,i.prototype.next=function(){var e=this.value;return this.sign?y(e,1,this.sign):new i(g(e,1),this.sign)},a.prototype.next=function(){var e=this.value;return e+1<9007199254740992?new a(e+1):new i(t,!1)},i.prototype.prev=function(){var e=this.value;return this.sign?new i(g(e,1),!0):y(e,1,this.sign)},a.prototype.prev=function(){var e=this.value;return e-1>-9007199254740992?new a(e-1):new i(t,!0)};for(var O=[1];2*O[O.length-1]<=1e7;)O.push(2*O[O.length-1]);var x=O.length,T=O[x-1];function A(e){return("number"==typeof e||"string"==typeof e)&&1e7>=+Math.abs(e)||e instanceof i&&e.value.length<=1}function C(e,t,r){t=F(t);for(var o=e.isNegative(),i=t.isNegative(),a=o?e.not():e,s=i?t.not():t,u=0,l=0,p=null,d=null,c=[];!a.isZero()||!s.isZero();)u=(p=P(a,T))[1].toJSNumber(),o&&(u=T-1-u),l=(d=P(s,T))[1].toJSNumber(),i&&(l=T-1-l),a=p[0],s=d[0],c.push(r(u,l));for(var f=0!==r(o?1:0,i?1:0)?n(-1):n(0),h=c.length-1;h>=0;h-=1)f=f.multiply(T).add(n(c[h]));return f}function L(e){var t=e.value,r="number"==typeof t?1073741824|t:t[0]+1e7*t[1]|1073758208;return r&-r}function D(e,t){return e=F(e),t=F(t),e.greater(t)?e:t}function U(e,t){return e=F(e),t=F(t),e.lesser(t)?e:t}function I(e,t){if(e=F(e).abs(),t=F(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=o[1];e.isEven()&&t.isEven();)r=Math.min(L(e),L(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(L(e));do{for(;t.isEven();)t=t.divide(L(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}i.prototype.shiftLeft=function(e){if(!A(e))throw Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;e>=x;)t=t.multiply(T),e-=x-1;return t.multiply(O[e])},a.prototype.shiftLeft=i.prototype.shiftLeft,i.prototype.shiftRight=function(e){if(!A(e))throw Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var t,r=this;e>=x;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=P(r,T))[1].isNegative()?t[0].prev():t[0],e-=x-1}return(t=P(r,O[e]))[1].isNegative()?t[0].prev():t[0]},a.prototype.shiftRight=i.prototype.shiftRight,i.prototype.not=function(){return this.negate().prev()},a.prototype.not=i.prototype.not,i.prototype.and=function(e){return C(this,e,function(e,t){return e&t})},a.prototype.and=i.prototype.and,i.prototype.or=function(e){return C(this,e,function(e,t){return e|t})},a.prototype.or=i.prototype.or,i.prototype.xor=function(e){return C(this,e,function(e,t){return e^t})},a.prototype.xor=i.prototype.xor,i.prototype.bitLength=function(){var e=this;return(0>e.compareTo(n(0))&&(e=e.negate().subtract(n(1))),0===e.compareTo(n(0)))?n(0):n(function e(t,r){if(0>=r.compareTo(t)){var o=e(t,r.square(r)),i=o.p,a=o.e,s=i.multiply(r);return 0>=s.compareTo(t)?{p:s,e:2*a+1}:{p:i,e:2*a}}return{p:n(1),e:0}}(e,n(2)).e).add(n(1))},a.prototype.bitLength=i.prototype.bitLength;var q=function(e,t){for(var n,o=e.length,i=Math.abs(t),n=0;n<o;n++){var s=e[n].toLowerCase();if("-"!==s&&/[a-z0-9]/.test(s)){if(/[0-9]/.test(s)&&+s>=i){if("1"===s&&1===i)continue;throw Error(s+" is not a valid digit in base "+t+".")}if(s.charCodeAt(0)-87>=i)throw Error(s+" is not a valid digit in base "+t+".")}}if(2<=t&&t<=36&&o<=r/Math.log(t)){if(isNaN(parseInt(e,t)))throw Error(s+" is not a valid digit in base "+t+".");return new a(parseInt(e,t))}t=F(t);var u=[],l="-"===e[0];for(n=l?1:0;n<e.length;n++){var s=e[n].toLowerCase(),p=s.charCodeAt(0);if(48<=p&&p<=57)u.push(F(s));else if(97<=p&&p<=122)u.push(F(s.charCodeAt(0)-87));else if("<"===s){var d=n;do n++;while(">"!==e[n]);u.push(F(e.slice(d+1,n)))}else throw Error(s+" is not a valid character")}return j(u,t,l)};function j(e,t,r){var n,i=o[0],a=o[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(a)),a=a.times(t);return r?i.negate():i}function k(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function N(e,t){if((t=n(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var o=!1;if(e.isNegative()&&t.isPositive()&&(o=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:o};for(var i,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){s=(i=s.divmod(t)).quotient;var u=i.remainder;u.isNegative()&&(u=t.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:o}}function B(e,t){var r=N(e,t);return(r.isNegative?"-":"")+r.value.map(k).join("")}function z(e){if(s(+e)){var t=+e;if(t===c(t))return new a(t);throw Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw Error("Invalid integer: "+n.join("e"));if(2===n.length){var o=n[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==c(o)||!s(o))throw Error("Invalid integer: "+o+" is not a valid exponent.");var u=n[0],l=u.indexOf(".");if(l>=0&&(o-=u.length-l-1,u=u.slice(0,l)+u.slice(l+1)),o<0)throw Error("Cannot include negative exponent part for integers");u+=Array(o+1).join("0"),e=u}if(!/^([0-9][0-9]*)$/.test(e))throw Error("Invalid integer: "+e);for(var d=[],f=e.length,h=f-7;f>0;)d.push(+e.slice(h,f)),(h-=7)<0&&(h=0),f-=7;return p(d),new i(d,r)}function F(e){return"number"==typeof e?function(e){if(s(e)){if(e!==c(e))throw Error(e+" is not an integer.");return new a(e)}return z(e.toString())}(e):"string"==typeof e?z(e):e}i.prototype.toArray=function(e){return N(this,e)},a.prototype.toArray=function(e){return N(this,e)},i.prototype.toString=function(t){if(e===t&&(t=10),10!==t)return B(this,t);for(var r,n=this.value,o=n.length,i=String(n[--o]);--o>=0;)r=String(n[o]),i+="0000000".slice(r.length)+r;return(this.sign?"-":"")+i},a.prototype.toString=function(t){return(e===t&&(t=10),10!=t)?B(this,t):String(this.value)},i.prototype.toJSON=a.prototype.toJSON=function(){return this.toString()},i.prototype.valueOf=function(){return parseInt(this.toString(),10)},i.prototype.toJSNumber=i.prototype.valueOf,a.prototype.valueOf=function(){return this.value},a.prototype.toJSNumber=a.prototype.valueOf;for(var H=0;H<1e3;H++)o[H]=new a(H),H>0&&(o[-H]=new a(-H));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=D,o.min=U,o.gcd=I,o.lcm=function(e,t){return e=F(e).abs(),t=F(t).abs(),e.divide(I(e,t)).multiply(t)},o.isInstance=function(e){return e instanceof i||e instanceof a},o.randBetween=function(e,t){var r=U(e=F(e),t=F(t)),n=D(e,t).subtract(r).add(1);if(n.isSmall)return r.add(Math.floor(Math.random()*n));for(var o=n.value.length-1,s=[],u=!0,p=o;p>=0;p--){var d=u?n.value[p]:1e7,f=c(Math.random()*d);s.unshift(f),f<d&&(u=!1)}return s=l(s),r.add("number"==typeof s?new a(s):new i(s,!1))},o.fromArray=function(e,t,r){return j(e.map(F),F(t||10),r)},o}();e.hasOwnProperty("exports")&&(e.exports=n),void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)}).call(this,r(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.eventDispatcher.EventDispatcher,i=n.logger.prefixLogger,a=n.logger.noOpLogger,s=function(){function e(e,t,r,n,s){void 0===s&&(s=a);var u=this;this._onAppendQueued=new o,this._onAppendEnd=new o,this._providedStartTime=!1,this._needsInitData=!0,this._updateTimerId=null,this._gcTimerId=null,this._waitingForData=!1,this._started=!1,this._error=null,this._currentRetrieveHandle=null,this._mseInitialized=!1,this._logger=i(s,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=r,this._onError=n,e.whenInitialized().then(function(){u._mseInitialized=!0,!u._error&&u._started&&(u._logger.debug("MSE initialized. Preparing to update."),u._prepareUpdate())}).catch(function(e){u._error||(u._logger.error("Error when waiting for MSE to initialize.",e),u._handleError(e||Error("Error waiting for MSE to initialize.")))})}return e.prototype.start=function(){if(this._checkNotErrored(),this._started)throw Error("Already started.");this._logger.debug("start() called."),this._scheduleGC(),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._error=Error("Killed."),this._clearTimers(),this._logger.debug("Killed."))},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(this._mseInitialized){var t=e.getBuffered(),r=this._getPosition(),o=n.helpers.find(t,function(e){return e.containsTime(r)});if(!o||o.end<=this._getPosition()+15e3){this._logger.debug("Requesting next segment data.");var i=this._getNextSegmentData();i?(this._logger.debug("Got segment data."),this._update(i)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}}},e.prototype._gc=function(){var e=this;if(!this._mseInitialized){this._scheduleGC();return}var t=this._mse,r=n.TimeRange.getCoverage(t.getBuffered()),o=this._getPosition()-5e3;if(r.start<o){var i=new n.TimeRange(r.start,o-r.start);this._logger.debug("Removing media that has been played.",i),t.remove(i).then(function(){e._logger.debug("Removed media that has been played.",i),e._error||e._scheduleGC()}).catch(function(t){e._logger.error("Error when attempting to remove media that has been played.",i,t),e._error||e._scheduleGC()})}else this._scheduleGC()},e.prototype._update=function(e){var t=this,r=e.data,o=e.eventRepresentation,i=e.startTime,a=this._mse;this._onAppendQueued.dispatch({segment:o}),this._logger.debug("Appending...",o,i);var s=[],u=!1,l=!1,p=!1,d=this._currentRetrieveHandle=r.run(),c=function(){if(!u&&!t._error){var e=s.shift();if(e&&!e.byteLength)t._logger.warn("Got 0 bytes to append. Skipping..."),c();else if(e){u=!0;var r=t._providedStartTime?null:i;t._logger.debug("Appending part...",o,e.byteLength,r),a.append(e,r).then(function(){t._providedStartTime=!0,u=!1,l=!0,c()}).catch(function(e){t._error||(t._logger.error("Error updating MSE.",e,o),t._handleError(e||Error("Error updating MSE.")))})}else p&&(t._logger.debug("Append finished.",o),l||t._logger.warn("There was nothing to append."),t._currentRetrieveHandle=null,t._onAppendEnd.dispatch({segment:o}),t._prepareUpdate())}};d.onProgressUpdate(function(e){var r;r=t._needsInitData&&e.initData?n.helpers.arrayBuffer.combine([e.initData,e.data]):e.data,t._needsInitData=!1,s.push(r),c()}),d.onError(function(e){t._error||(t._logger.error("Error whilst retrieving data.",e,o),t._handleError(e||Error("Error retrieving data for MSE.")))}),d.onCompletion(function(){t._logger.debug("Got all data for append.",o),p=!0,c()})},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},e.prototype._scheduleGC=function(){var e=this;this._gcTimerId||(this._gcTimerId=window.setTimeout(function(){e._gcTimerId=null,e._gc()},2e4))},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._clearTimers=function(){this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null),this._currentRetrieveHandle&&(this._currentRetrieveHandle.abort(),this._currentRetrieveHandle=null)},e.prototype._handleError=function(e){this._error||(this._error=e,this._logger.error("Error occurred.",e),this._clearTimers(),this._onError(e))},e}();t.SimpleMSE=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(3),i=r(4),a=r(7),s=r(6),u=r(5);(n=t.errors||(t.errors={})).AppendError=o.AppendError,n.InitializeError=i.InitializeError,n.PlaylistUpdateError=a.PlaylistUpdateError,n.NoTransmuxerError=s.NoTransmuxerError,n.RetrievalError=u.RetrievalError}])},e.exports=n(r(26177),r(950),r(65897))},52234:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(e){function t(t,r,n){void 0===r&&(r={}),void 0===n&&(n=2e4);var o=e.call(this)||this;if(o._responseStarted=!1,n<0)throw Error("Invaid timeout.");if(o._timeoutTimer=window.setTimeout(function(){return o._onManualTimeout()},n),o._xhr=new XMLHttpRequest,o._xhr.addEventListener("load",function(){return o._onLoad()}),o._xhr.addEventListener("abort",function(){return o._onAbort()}),o._xhr.addEventListener("error",function(e){return o._onError(e)}),o._xhr.addEventListener("timeout",function(){return o._onTimeout()}),o._xhr.addEventListener("loadend",function(){return o._onLoadEnd()}),o._xhr.addEventListener("progress",function(){return o._onProgress()}),o._xhr.open("GET",t,!0),o._xhr.timeout=n,!o._getResponseType().some(function(e){return o._xhr.responseType=e,o._xhr.responseType===e}))throw Error("Failed setting response type.");return Object.keys(r).forEach(function(e){return o._xhr.setRequestHeader(e,r[e])}),o._signalRequestStart(),o._xhr.send(),o}return o(t,e),t.prototype._abort=function(){this._xhr.abort()},t.prototype._onAbort=function(){this.hasCompleted()||this._onTimeout()},t.prototype._onManualTimeout=function(){this.hasCompleted()||(this._signalTimeout(),this._xhr.abort())},t.prototype._onTimeout=function(){this.hasCompleted()||this._signalTimeout()},t.prototype._onLoad=function(){if(!this.hasCompleted()){if(!this._isChunkedResponse()){var e=this._xhr;this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response)}this.hasCompleted()||this._finalize()}},t.prototype._onError=function(e){switch(this.getState()){case i.loader.ResponseState.COMPLETED:case i.loader.ResponseState.ERRORED:break;case i.loader.ResponseState.PENDING:if(0===this._xhr.status){this._provideStatusAndHeaders({statusCode:0,headers:{}},this._getEmptyData()),this._finalize();break}default:this._finalize(new i.loaderErrors.LoaderError("An error occurred.",e))}},t.prototype._onLoadEnd=function(){window.clearTimeout(this._timeoutTimer),this.hasCompleted()||this._finalize(new i.loaderErrors.LoaderError("Unexpected error occurred."))},t.prototype._onProgress=function(){if(!this.hasCompleted()){var e=this._xhr;this._isChunkedResponse()&&(this._responseStarted?this._providePart(e.response):(this._responseStarted=!0,this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response)))}},t.prototype._isChunkedResponse=function(){return"moz-chunked-arraybuffer"===this._xhr.responseType},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,o=r.length;n<o;n++){var i=r[n],a=i.indexOf(": ");if(a>0){var s=i.substring(0,a).trim(),u=i.substring(a+2);t[s]=u}}return t},t}(i.loader.LoaderRequest);t.LoaderRequest=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088;var n=r(3);t.stringLoader=n.stringLoader;var o=r(5);t.arrayBufferLoader=o.arrayBufferLoader,t.ArrayBufferLoader=o.ArrayBufferLoader},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.stringLoader={request:function(e){var t=e.url,r=e.headers,o=e.timeout;return new n.StringLoaderRequest(t,r,o)}}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=["text"],s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._getResponseType=function(){return a},t.prototype._getEmptyData=function(){return""},t.prototype._reduceParts=function(e){return e.join("")},t}(i.LoaderRequest);t.StringLoaderRequest=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(7),i=function(){function e(e){var t=(void 0===e?{}:e).fetchEnabled;this._fetchEnabled=void 0===t||t}return e.prototype.request=function(e){var t=e.url,r=e.headers,i=e.timeout;return this._fetchEnabled&&o.ArrayBufferLoaderRequest.isSupported()?new o.ArrayBufferLoaderRequest(t,r,i):new n.ArrayBufferLoaderRequest(t,r,i)},e}();t.ArrayBufferLoader=i,t.arrayBufferLoader=new i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=i.helpers.browser.getFirefoxVersion(),u=s&&s.major>=60?["moz-chunked-arraybuffer","arraybuffer"]:["arraybuffer"],l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._getResponseType=function(){return u},t.prototype._getEmptyData=function(){return new ArrayBuffer(0)},t.prototype._reduceParts=function(e){return i.helpers.arrayBuffer.combine(e.map(function(e){return new Uint8Array(e)})).buffer},t}(a.LoaderRequest);t.ArrayBufferLoaderRequest=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=i.helpers.browser.isFirefox(),s=function(e){function t(r,n,o){void 0===n&&(n={}),void 0===o&&(o=2e4);var a=e.call(this)||this;if(!t.isSupported())throw Error("Not supported.");var s=new Request(r,{headers:n,redirect:"follow",signal:(a._abortController=new AbortController).signal});a._signalRequestStart();var u=a._abortTimer=window.setTimeout(function(){a._signalTimeout(),a._abort()},o),l=fetch(s).then(function(e){var t={};if(e.headers.forEach(function(e,r){return t[e]=r}),a._provideStatusAndHeaders({statusCode:e.status,headers:t},new ArrayBuffer(0)),!e.body)return e.arrayBuffer().then(function(e){e&&a._providePart(e)});var r=e.body.getReader(),n=function(){return r.read().then(function(e){var t=e.done,r=e.value;if(!(t||a.hasCompleted()))return a._providePart(r.buffer),n()})};return n()}).then(function(){a.hasCompleted()||a._finalize()}).catch(function(e){if(!a.hasCompleted()){var t=e instanceof i.loaderErrors.LoaderError?e:new i.loaderErrors.LoaderError(e);a._finalize(t)}});return i.helpers.always(l,function(){return window.clearTimeout(u)}),a}return o(t,e),t.isSupported=function(){return"fetch"in window&&"Request"in window&&"AbortController"in window&&!a},t.prototype._abort=function(){window.clearTimeout(this._abortTimer),this._abortController.abort()},t.prototype._reduceParts=function(e){return i.helpers.arrayBuffer.combine(e.map(function(e){return new Uint8Array(e)})).buffer},t}(i.loader.LoaderRequest);t.ArrayBufferLoaderRequest=s}])},e.exports=n(r(26177))},33778:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=n.helpers.arrayBuffer,a=i.combine,s=i.numberToUint8Array,u=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];function l(e){if(!e.first)throw Error("OpusHead is always in the first packet.");var t=new DataView(e.data.buffer),r=t.getUint8(9),n=t.getUint8(18),o=void 0,i=void 0,a=void 0;if(n>0){o=t.getUint8(18),i=t.getUint8(19),a=[];for(var s=0;s<r;s++)a.push(t.getUint8(20+s))}return{version:t.getUint8(8),channelCount:r,preSkip:t.getUint16(10,!0),inputSampleRate:t.getUint32(12,!0),outputGain:.00390625*t.getInt16(16,!0),channelMapFamily:n,streamCount:o,twoChannelStreamCount:i,channelMappingTable:a}}t.parseOpusHead=l,t.setOutputGain=function(e,t){if(t>=128||t<-128)throw Error("outputGainOverride invalid. It must be >= -128 and < 128.");l(e),new DataView(e.data.buffer).setInt16(16,Math.round(256*t),!0)},t.buildWebm=function(e){var t,r,n=e[0];if(!n||!n.first)throw Error("Missing start of stream.");var i=e.slice(2),p=l(n),d=0,c=i.map(function(e){var t,r,n=new Uint8Array(4);n[0]=129,new DataView(n.buffer).setInt16(1,d),n[3]=128;var i=0==(r=3&(t=e.data)[0])?1:3!==r?2:63&t[1];return d+=i*function(e){var t=e[0]>>>3&31;if(t>=u.length)throw Error("Invalid configuration.");return u[t]}(e.data),o.encodeElement(o.IDS.SimpleBlock,a([n,e.data]))});return{initData:a([o.encodeElement(o.IDS.EBML,a([o.encodeElement(o.IDS.EBMLVersion,s(1)),o.encodeElement(o.IDS.EBMLReadVersion,s(1)),o.encodeElement(o.IDS.EBMLMaxIDLength,s(4)),o.encodeElement(o.IDS.EBMLMaxSizeLength,s(8)),o.encodeElement(o.IDS.DocType,new Uint8Array([119,101,98,109])),o.encodeElement(o.IDS.DocTypeVersion,s(1)),o.encodeElement(o.IDS.DocTypeReadVersion,s(2))])),o.encodeElement(o.IDS.Segment,o.encodeElement(o.IDS.Info,o.encodeElement(o.IDS.Duration,(new DataView((t=new Uint8Array(8)).buffer).setFloat64(0,d),t)))),o.encodeElement(o.IDS.Tracks,o.encodeElement(o.IDS.TrackEntry,a([o.encodeElement(o.IDS.TrackNumber,s(1)),o.encodeElement(o.IDS.TrackUID,s(1)),o.encodeElement(o.IDS.FlagLacing,s(0)),o.encodeElement(o.IDS.CodecID,new Uint8Array([65,95,79,80,85,83])),o.encodeElement(o.IDS.CodecDelay,s(p.preSkip/48e3*1e9)),o.encodeElement(o.IDS.SeekPreRoll,new Uint8Array([4,196,180,0])),o.encodeElement(o.IDS.TrackType,s(2)),o.encodeElement(o.IDS.Audio,a([o.encodeElement(o.IDS.Channels,s(p.channelCount)),o.encodeElement(o.IDS.SamplingFrequency,new Uint8Array([64,231,112,0,0,0,0,0]))])),o.encodeElement(o.IDS.CodecPrivate,n.data)])))]),data:o.encodeElement(o.IDS.Cluster,((r=[o.encodeElement(o.IDS.Timecode,s(0))]).push.apply(r,c),a(r)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).helpers.arrayBuffer,o=n.combine,i=n.numberToUint8Array,a=n.createVintBuffer;t.IDS={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,Info:357149030,Duration:17545,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackUID:29637,FlagLacing:156,CodecID:134,CodecDelay:22186,SeekPreRoll:22203,TrackType:131,Audio:225,Channels:159,SamplingFrequency:181,CodecPrivate:25506,Cluster:524531317,Timecode:231,SimpleBlock:163},t.encodeElement=function(e,t){return o([i(e),a(t.byteLength),t])}}])},e.exports=n(r(26177))},8847:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._msg=e}return e.prototype.getMsg=function(){return this._msg},e}();t.OggParserError=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.ChecksumFailedError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.PageFromDifferentBitstreamError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.PageSequenceNumberDidNotIncrementError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.UnexpectedBOSError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.UnexpectedEOSError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.NoSegmentsInPageError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).OggParserError);t.IncompletePageError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(9));var n=r(0);t.OggParserError=n.OggParserError;var o=r(1);t.ChecksumFailedError=o.ChecksumFailedError;var i=r(6);t.NoSegmentsInPageError=i.NoSegmentsInPageError;var a=r(2);t.PageFromDifferentBitstreamError=a.PageFromDifferentBitstreamError;var s=r(3);t.PageSequenceNumberDidNotIncrementError=s.PageSequenceNumberDidNotIncrementError;var u=r(4);t.UnexpectedBOSError=u.UnexpectedBOSError;var l=r(5);t.UnexpectedEOSError=l.UnexpectedEOSError;var p=r(7);t.IncompletePageError=p.IncompletePageError},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(11),i=r(1),a=r(2),s=r(3),u=r(4),l=r(5),p=r(6),d=r(7),c=n.helpers.arrayBuffer.combine,f=new Uint8Array([79,103,103,83]),h=new Uint8Array([0,0,0,0]);function g(e,t,r){if(void 0===r&&(r=1),t<0||t+r>e.byteLength)throw Error("extract() out of bounds. "+t+" "+r+" "+e.byteLength);return e.slice(t,t+r)}function _(e,t){return void 0===t&&(t=!0),new DataView(e).getUint32(0,t)}function y(e){var t=new Uint8Array(e.buffer,e.byteOffset),r=t.byteLength;if(r<27)throw new d.IncompletePageError("Incomplete page.");var n=g(t,26);if(r<27+n[0])throw new d.IncompletePageError("Incomplete page.");var a=g(t,27,n[0]),s={version:g(t,4),type:g(t,5),granulePosition:g(t,6,8),bitstreamSerialNumber:g(t,14,4),pageSequenceNumber:g(t,18,4),checksum:g(t,22,4),pageSegments:n,segmentTable:a},u=[],l=27+n[0];if(a.forEach(function(e){if(r<l+e)throw new d.IncompletePageError("Incomplete page.");u.push(g(t,l,e)),l+=e}),!u.length)throw new p.NoSegmentsInPageError("No segments.");if(o.calculateCRC([f,s.version,s.type,s.granulePosition,s.bitstreamSerialNumber,s.pageSequenceNumber,h,n,a].concat(u))!==_(s.checksum.buffer))throw new i.ChecksumFailedError("Checksum failed.");return{header:s,segments:u,entirePage:g(t,0,l)}}t.retrievePages=function(e){for(var t=e.buffer,r=[],n=e.byteOffset,o=!0;n<e.byteOffset+e.byteLength;){var i=new DataView(t,n);try{var a=y(i);r.push(a),n+=a.entirePage.byteLength}catch(e){if(e instanceof d.IncompletePageError){o=!1;break}throw e}}return{pages:r,eos:o}},t.parsePage=y,t.retrievePackets=function(e){if(!e.length)return[];var t=_(e[0].header.bitstreamSerialNumber.buffer),r=-1,n=null,o=[];return e.forEach(function(i,p){if(_(i.header.bitstreamSerialNumber.buffer)!==t)throw new a.PageFromDifferentBitstreamError("Got a page from a different bitstream.");var d=_(i.header.pageSequenceNumber.buffer);if(d<=r)throw new s.PageSequenceNumberDidNotIncrementError("Page sequence number was not greater than the previous one.");var f=d!==r+1;r=d;var h=i.header.type[0],g=!!(1&h),y=!!(2&h);if(y&&p>0)throw new u.UnexpectedBOSError("Got BOS on a page which is not the first.");var m=!!(4&h);if(m&&p!==e.length-1)throw new l.UnexpectedEOSError("Got EOS on a page which is not the last.");var v=0;f&&(n=null);var b=i.segments.length;i.segments.forEach(function(e,t){if(n?n.data=c([n.data,e]):!(g&&0===t)&&(n={granulePosition:null,pageSequenceNumber:r,packetOffset:v,discontinuity:f&&0===v,first:y&&0===v,last:!1,data:e},v++),n&&e.byteLength<255){var a=t===b-1;a&&(n.granulePosition=_(i.header.granulePosition.buffer)),n.last=m&&a,o.push(n),n=null}})}),o}},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);t.calculateCRC=function(e){var t=0;return e.forEach(function(e){for(var r=0;r<e.length;r++)t=t<<8^n[t>>24&255^e[r]]}),t>>>0}}])},e.exports=n(r(26177))},72834:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.7",t.buildNumber=2088;var n=r(1);t.PlaylistHLS=n.PlaylistHLS},function(e,t,r){"use strict";var n,o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),u=r(3),l=u.retrievalErrors.UnacceptableResponseStatusCodeError,p=u.retrievalErrors.PlaylistParseError,d=u.retrievalErrors.UnsupportedEncryptionError,c=s.helpers.abortableJob.AbortableJob,f=s.helpers.deferred.buildDeferred,h=s.helpers.cache.buildCache,g=s.helpers.retry,_=g.retry,y=g.buildExponentialDelayCalculator,m=s.helpers.Promise,v=s.helpers.find,b=s.helpers.url,E=s.logger.prefixLogger,S=s.logger.noOpLogger,w=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(MAP):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,P=/(.+?)=(.+?)(?:,|$)/g,R=/^\d*(\.\d+)?$/;function M(e){return!(e>=400&&e<500)}function O(e){var t,r={};for(P.lastIndex=0;null!==(t=P.exec(e));){var n,o=t[1].trim().toLowerCase(),i=0===(n=t[2].trim()).indexOf('"')&&n.lastIndexOf('"')===n.length-1?n.slice(1,-1):n;r[o]=i}return r}(n=i||(i={}))[n.NONE=0]="NONE",n[n.AES_128=1]="AES_128",n[n.SAMPLE_AES=2]="SAMPLE_AES";var x=function(e){function t(t){var r=t.url,n=t.playlistLoader,o=t.segmentLoader,i=t.keyLoader,a=t.segmentFormat,p=t.logger,d=t.delayCalculator,g=void 0===d?y():d,v=t.keyDelayCalculator,b=void 0===v?y():v,w=t.segmentDelayCalculator,P=t.isPlaylistResponseCodeAcceptable,R=t.isPlaylistResponseCodeRetryable,O=t.isSegmentResponseCodeAcceptable,x=t.isSegmentResponseCodeRetryable,T=t.isKeyResponseCodeAcceptable,A=t.isKeyResponseCodeRetryable,C=e.call(this)||this;return C._keyRetrievalJobsCache=h(),C._initDataRetrievalJobsCache=h(),C._data=null,C._lastUpdateTime=null,C._playlistEventRepresentation=null,C._logger=E(void 0===p?S:p,"PlaylistHLS"),C._url=r,C._playlistLoader=n,C._segmentLoader=o,C._keyLoader=i||null,C._segmentFormat=a,C._keyDelayCalculator=b,C._isPlaylistResponseCodeAcceptable=void 0===P?function(e){return 200===e}:P,C._isPlaylistResponseCodeRetryable=void 0===R?M:R,C._isSegmentResponseCodeAcceptable=void 0===O?function(e){return 200===e}:O,C._isSegmentResponseCodeRetryable=void 0===x?M:x,C._isKeyOrInitDataResponseCodeAcceptable=void 0===T?function(e){return 200===e}:T,C._isKeyOrInitDataResponseCodeRetryable=void 0===A?M:A,C._segmentDelayCalculator=w,C._downloadAbortableJob=new c(function(){var e=s.helpers.deferred.buildDeferred(),t=_(g,function(t){var n=t.scheduleRetry,o=new u.events.Playlist(r);C._onPlaylistRequestQueued.dispatch({playlist:o});var i=C._playlistLoader.request({url:r});return i.onRequestStart(function(){C._onPlaylistRequestStart.dispatch({playlist:o})}),C._logger.debug("Requesting playlist.",r),i.onResponseReceived(function(t){if(!t){C._logger.warn("Playlist request timed out.",r),C._onPlaylistRequestFailed.dispatch({playlist:o,statusCode:null}),n();return}var i=t.statusCode;if(C._isPlaylistResponseCodeAcceptable(i)){var a=t.getData();if(!a){C._logger.warn("Playlist response contained no data.",r,i),C._onPlaylistRequestFailed.dispatch({playlist:o,statusCode:i}),n();return}C._logger.debug("Got playlist response.",r,i),C._onPlaylistRetrieved.dispatch({playlist:o,statusCode:i}),e.resolve({playlistContent:a,eventRepresentation:o});return}if(!C._isPlaylistResponseCodeRetryable(i)){C._logger.debug("Playlist response code was not acceptable.",r,i),C._onPlaylistRequestFailed.dispatch({playlist:o,statusCode:i}),e.reject(new l(i));return}C._logger.debug("Playlist response code was not acceptable. Will retry.",r,i),C._onPlaylistRequestFailed.dispatch({playlist:o,statusCode:i}),n()}),i.onError(function(t){if(t instanceof s.loaderErrors.LoaderError){C._logger.warn("Error from loader. Will retry",r,t),n();return}e.reject(t)}),{onCancel:function(){C._logger.debug("Aborting playlist request.",r),i.hasCompleted()||i.abort(),C._onPlaylistRequestFailed.dispatch({playlist:o,aborted:!0})}}},{onNoMoreRetries:function(){return e.reject(Error("No more retries for requesting playlist."))}}).cancel;return{result:e.promise,abort:function(){return t()}}}),C._updateJob=new c(function(){if(C._data&&C._data.ended)return{result:m.resolve(void 0)};var e=f(),t=C._downloadAbortableJob.run();return t.onCompletion(function(t){var r=t.playlistContent,n=t.eventRepresentation;C._lastUpdateTime=s.helpers.time.now(),C._onPlaylistParseStart.dispatch({playlist:n});try{C._data=C._parsePlaylist(r)}catch(t){C._logger.error("Error when parsing playlist.",t,r),e.reject(t);return}C._playlistEventRepresentation=n,C._onPlaylistParseEnd.dispatch({playlist:n}),e.resolve(void 0)}),t.onError(e.reject),{result:e.promise,abort:function(){return t.abort()}}}),C}return a(t,e),t.prototype.hasInitialUpdateCompleted=function(){return!!this._data},t.prototype.getType=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.type},t.prototype.getExpireTime=function(){var e=this._data,t=this._lastUpdateTime;return e&&e.type===u.PlaylistType.LIVE&&null!==t?t+e.segments.reduce(function(e,t){return e+t.timeRange.duration},0)/2:null},t.prototype.hasEnded=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.ended},t.prototype.getCompleteDuration=function(){return this._data&&this._data.ended?this._data.totalDuration:null},t.prototype.getDuration=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.totalDuration},t.prototype.getTargetDuration=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.targetDuration},t.prototype.getFirstSegmentIndex=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.mediaSequence},t.prototype.getSegmentCount=function(){if(!this._data)throw Error("Not loaded yet.");return this._data.segments.length},t.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw Error("Not loaded yet.");var r=v(t.segments,function(t){return t.timeRange.containsTime(e)});return r?t.mediaSequence+t.segments.indexOf(r):null},t.prototype._update=function(){return this._updateJob.run()},t.prototype._getSegment=function(e){var t=this,r=this._data;if(!r)throw Error("Not loaded yet.");var n=r.segments[e-r.mediaSequence];return new c(function(){var r=n.encryptionData,o=t._playlistEventRepresentation;if(!o)throw Error("Playlist event representation should exist.");var i=t._buildEncryptionConfig(r,e),a=n.initDataUrl?t._retrieveInitData(n.initDataUrl):null;return{result:i.whenComplete().then(function(r){var i=function(i){return new u.Segment({url:n.url,sequenceNumber:e,playlist:t,timeRange:n.timeRange,format:t._segmentFormat,loader:t._segmentLoader,playlistEventRepresentation:o,logger:t._logger,delayCalculator:t._segmentDelayCalculator,isResponseCodeAcceptable:t._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:t._isSegmentResponseCodeRetryable,encryptionConfig:r,initData:i})};return a?a.whenComplete().then(function(e){return i(e)}):i(void 0)}),abort:function(){i.abort(),a&&a.abort()}}}).run()},t.prototype._buildEncryptionConfig=function(e,t){var r=this;return new c(function(){if(e.method===i.NONE)return{result:m.resolve(void 0)};if(e.method!==i.AES_128)return r._logger.error("Unsupported encryption method.",e.method),{result:m.reject(new d)};if(!r._keyLoader)return{result:m.reject(Error("Encryption method not supported as no key loader provided."))};var n=r._retrieveKey(e.keyUrl);return{result:n.whenComplete().then(function(r){return{cipher:"AES-CBC",key:r,iv:e.iv||function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}(t)}}),abort:function(){return n.abort()}}},{storeResult:!0}).run()},t.prototype._retrieveKey=function(e){var t=this,r=this._keyLoader;if(!r)throw Error("No key loader.");var n=this._playlistEventRepresentation;if(!n)throw Error("Playlist event representation should exist.");var o=new u.events.Key(n,e);return this._retrieveKeyOrInitData({url:e,loader:r,cache:this._keyRetrievalJobsCache,onRequestQueued:function(){return t._onKeyRequestQueued.dispatch({key:o})},onRequestStart:function(){return t._onKeyRequestStart.dispatch({key:o})},onRequestTimedOut:function(){t._onKeyRequestFailed.dispatch({key:o,statusCode:null})},onRequestFailed:function(e){t._onKeyRequestFailed.dispatch({key:o,statusCode:e})},onRequestAborted:function(){t._onKeyRequestFailed.dispatch({key:o,aborted:!0})},onRetrieved:function(e){t._onKeyRetrieved.dispatch({key:o,statusCode:e})},type:"key"})},t.prototype._retrieveInitData=function(e){var t=this,r=this._playlistEventRepresentation;if(!r)throw Error("Playlist event representation should exist.");var n=new u.events.InitData(r,e);return this._retrieveKeyOrInitData({url:e,loader:this._segmentLoader,cache:this._initDataRetrievalJobsCache,onRequestQueued:function(){return t._onInitDataRequestQueued.dispatch({initData:n})},onRequestStart:function(){return t._onInitDataRequestStart.dispatch({initData:n})},onRequestTimedOut:function(){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:null})},onRequestFailed:function(e){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:e})},onRequestAborted:function(){t._onInitDataRequestFailed.dispatch({initData:n,aborted:!0})},onRetrieved:function(e){t._onInitDataRetrieved.dispatch({initData:n,statusCode:e})},type:"init data"})},t.prototype._retrieveKeyOrInitData=function(e){var t=this,r=e.url,n=e.loader,o=e.cache,i=e.onRequestQueued,a=e.onRequestStart,u=e.onRequestTimedOut,p=e.onRequestFailed,d=e.onRequestAborted,f=e.onRetrieved,h=e.type,g=o.get(r);return g?this._logger.debug(h+" retrieval already in progress.",r):(g=new c(function(){var e=s.helpers.deferred.buildDeferred(),o=_(t._keyDelayCalculator,function(o){var c=o.scheduleRetry;i();var g=n.request({url:r});return g.onRequestStart(a),t._logger.debug("Retrieving "+h+".",r),g.onResponseReceived(function(n){if(!n){t._logger.warn(h+" request timed out.",r),u(),c();return}var o=n.statusCode;if(t._isKeyOrInitDataResponseCodeAcceptable(o)){var i=n.getData();if(!i){t._logger.warn(h+" response contained no data.",r,o),p(o),c();return}t._logger.debug("Got "+h+" response.",r,o),f(o),e.resolve(new Uint8Array(i));return}if(!t._isKeyOrInitDataResponseCodeRetryable(o)){t._logger.warn(h+" response code was not acceptable.",r,o),p(o),e.reject(new l(o));return}t._logger.warn(h+" response code was not acceptable. Will retry.",r,o),p(o),c()}),g.onError(function(n){if(n instanceof s.loaderErrors.LoaderError){t._logger.warn("Error from loader. Will retry",r,n),c();return}e.reject(n)}),{onCancel:function(){t._logger.debug("Aborting "+h+" request.",r),g.hasCompleted()||g.abort(),d()}}},{onNoMoreRetries:function(){return e.reject(Error("No more retries for requesting "+h+"."))}}).cancel;return{result:e.promise,abort:function(){return o()}}},{storeResult:!0}),o.set(r,g)),g.run()},t.prototype._parsePlaylist=function(e){var t,r=this._data,n={version:null,type:u.PlaylistType.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},o=[],a={method:i.NONE},l=null,d=null;w.lastIndex=0;for(var c=0,f=!1;null!==(t=w.exec(e));){var h=t.filter(function(e,t){return 0!==t&&void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),g=h[0],_=h.slice(1);if(0===c){if("extm3u"!==g)throw new p("First line did not contain EXTM3U tag.")}else{if(!f)switch(g){case"playlist-type":if(n.type!==u.PlaylistType.LIVE)throw new p("Already have playlist type.");switch(_[0].toLowerCase()){case"vod":n.type=u.PlaylistType.VOD;break;case"event":n.type=u.PlaylistType.EVENT;break;default:throw new p("Invalid playlist type.")}break;case"media-sequence":if(null!==n.mediaSequence)throw new p("Already have media sequence number.");var y=parseInt(_[0],10);if(y+""!==_[0])throw new p("Invalid media sequence number.");n.mediaSequence=y;break;case"targetduration":if(null!==n.targetDuration)throw new p("Already have target duration.");var m=parseInt(_[0],10);if(m+""!==_[0]||m<0)throw new p("Invalid target duration.");n.targetDuration=1e3*m;break;case"version":if(null!==n.version)throw new p("Already have version.");var v=parseInt(_[0],10);if(v+""!==_[0])throw new p("Invalid version.");if(v<3)throw new p("HLS version must be 3 or above.");n.version=v;break;default:f=!0}if(f)switch(g){case"key":var E=O(_[0]),S="method"in E?E.method.toLowerCase():null,P="uri"in E?b.buildAbsoluteUrl(this._url,E.uri):null,M="iv"in E?function(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new p("Failed to parse IV (length is not multiple of 4).");for(var r=0;r<e.length;r+=4){var n=parseInt(e.substr(r,4),16);if(isNaN(n))throw new p("Failed to parse hex number in IV string.");t[r/4]=n}return new Uint8Array(t)}(E.iv):null;if(!S)throw new p("Missing encryption method.");if(!P&&"none"!==S)throw new p("Missing key url.");switch(S){case"none":if(null!==P)throw new p("Key url not allowed.");if(null!==M)throw new p("IV not allowed.");a={method:i.NONE};break;case"aes-128":if(!P)throw new p("Key url required.");a={method:i.AES_128,keyUrl:P,iv:M};break;case"sample-aes":if(!P)throw new p("Key url required.");a={method:i.SAMPLE_AES,keyUrl:P,iv:M};break;default:throw new p("Unknown encryption method.")}break;case"map":var E=O(_[0]);if(!("uri"in E))throw new p("URI missing from EXT-X-MAP tag.");if("byterange"in E)throw new p("BYTERANGE in EXT-X-MAP tag is currently unsupported.");l=E.uri?b.buildAbsoluteUrl(this._url,E.uri):null;break;case"inf":if(!_[0].match(R))throw new p("Invalid segment duration.");d=1e3*parseFloat(_[0]);break;case"":if(n.ended)throw new p("Already received ENDLIST tag.");if(null===d)throw new p("Not received segment duration.");var x=b.buildAbsoluteUrl(this._url,_[0]);o.push({url:x,timeRange:new s.TimeRange(n.totalDuration,d),initDataUrl:l,encryptionData:a}),n.totalDuration+=d,d=null;break;case"endlist":if(n.ended)throw new p("Already had ENDLIST tag.");n.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",g)}}c++}var T=n.version,A=n.type,C=n.mediaSequence,L=n.targetDuration,D=n.ended,U=n.totalDuration;if(null===T)throw new p("Missing version.");if(null===L)throw new p("Missing target duration.");if(D&&A===u.PlaylistType.LIVE)throw new p("Cannot be ended if type is LIVE.");if(!D&&A===u.PlaylistType.VOD)throw new p("Must be ended if type is VOD.");if(null===C&&(C=0),r){if(r.type!==A)throw new p("Playlist type has changed since last update.");if(r.type===u.PlaylistType.EVENT&&C!==r.mediaSequence)throw new p("Media sequence number has changed. Not valid for EVENT playlist.");var I=r.segments[C-r.mediaSequence];if(!I)throw new p("Tracking lost. The last segment of the previous playlist is no longer in the new one.");var q=I.timeRange.start;o.forEach(function(e){var t=e.timeRange;e.timeRange=new s.TimeRange(t.start+q,t.duration)}),U+=q}return{version:T,type:A,mediaSequence:C,targetDuration:L,totalDuration:U,ended:D,segments:o}},t}(u.Playlist);t.PlaylistHLS=x},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(26177),r(950))},37711:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t,r,n,o,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.10.1",t.buildNumber=1056;var n=r(2);t.HLSMSEPlayerController=n.HLSMSEPlayerController;var o=r(0);t.HLSMSEPlayer=o.HLSMSEPlayer},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=r(4),s=r(5),u=r(6),l=r(7),p=r(0),d=/^[^\?#]*/;function c(e){return e.match(d)[0]}var f=function(e){function t(t){var r=e.call(this)||this;return r._mediaElementManager=t,r.name="MaestroHLSMSE",r}return o(t,e),t.prototype.isRenditionSupported=function(e){return -1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&p.HLSMSEPlayer.isFormatSupported(e.maestroSegmentFormat||{})},t.prototype.buildPlayer=function(e){return new h(e,this._mediaElementManager)},t}(i.BaseController);t.HLSMSEPlayerController=f;var h=function(){function e(e,t){var r=this;this._config=e,this._mediaElementManager=t,this._urlRefreshRetrieveHandle=null;var n=e.logger,o=e.playerId,i=e.urlAndRendition,u=e.streamUrlExpires,l=e.reportError,d=e.fadeOnPauseAndPlay,f=e.fadeOnSeek,h=e.releaseControl,g=e.getNewUrl,_=e.seekStrategy;this._currentUrl=i.url;var y=i.rendition.maestroSegmentFormat||{},m=this._buildPlaylist(i.url),v=this._player=new p.HLSMSEPlayer({playlist:m,segmentFormat:y},{name:o,mediaElement:null,fadeSupportEnabled:d||f,defaultFadeDuration:d?void 0:0,defaultSeekFadeInDuration:f?void 0:0,defaultSeekFadeOutDuration:f?void 0:0,logger:n,seekStrategy:_,registerListeners:function(e){var t=e.onError,o=e.onChange;t.subscribe(function(e){if(u){if(e instanceof s.errors.URLUpdateError){n.error("URL refresh failed for some reason.",e),h({retry:!0});return}if(r._isErrorWhichShouldTriggerURLRefresh(e)){if(r._urlRefreshRetrieveHandle){n.debug("Got a 403 status code, but URL refresh already in progress.");return}n.info("Got a 403 status code. Peforming a URL refresh..."),(r._urlRefreshRetrieveHandle=g()).whenComplete().then(function(e){r._urlRefreshRetrieveHandle=null,e?c(e)!==c(r._currentUrl)?(n.warn("Got a new URL but the rendition did not match the original."),h({retry:!1})):(r._currentUrl=e,n.info("Got a new URL. Updating..."),v.switchPlaylist(r._buildPlaylist(e))):(n.warn("Could not get a new URL."),h({retry:!1}))}).catch(function(e){n.error("Unexpected error when trying to retrieve a new URL.",e),h({retry:!1})});return}}l(e.getCode()),a.HTML5PlayerController.errorQualifiesAbort(e)&&h({retry:!1})}),o.subscribe(function(e){e.dead&&(r._urlRefreshRetrieveHandle&&(r._urlRefreshRetrieveHandle.abort(),r._urlRefreshRetrieveHandle=null),h({retry:!1}))})}});this._mediaElementManager.registerPlayer(v,function(){return h({retry:!1})})}return e.prototype.getPlayer=function(){return this._player},e.prototype.getUrl=function(){return this._currentUrl},e.prototype._buildPlaylist=function(e){var t=new u.ArrayBufferLoader({fetchEnabled:this._config.fetchEnabled});return new l.PlaylistHLS({url:e,playlistLoader:u.stringLoader,segmentLoader:t,keyLoader:t,segmentFormat:this._config.urlAndRendition.rendition.maestroSegmentFormat||{},logger:this._config.logger})},e.prototype._isErrorWhichShouldTriggerURLRefresh=function(e){if(e instanceof p.errors.RetrievalError){var t=e.getCause();if(t instanceof p.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===t.getStatusCode()}return!1},e}();t.ControlledPlayer=h},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i}])},e.exports=n(r(87889),r(33801),r(36259),r(26177),r(52234),r(72834))},36259:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.10.1",t.buildNumber=1056;var n=r(3);t.HTML5PlayerController=n.HTML5PlayerController;var o=r(5);t.MediaElementManager=o.MediaElementManager;var i=r(0);t.HTML5Player=i.HTML5Player},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),a=r(1),s=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r._mediaElementManager=t,r.name="MaestroHTML5",r}return o(t,e),t.errorQualifiesAbort=function(e){return!(e instanceof s.errors.WebAudioInitializeError)},t.prototype.isRenditionSupported=function(e,t,r){var n="mp3"===e.scFormat,o="hls"===e.scProtocol;return!!(r&&r.useIphoneHlsHack&&n&&o&&function(e){try{return!!document.createElement("audio").canPlayType(e)}catch(e){return!1}}("application/vnd.apple.mpegurl"))||("http"===e.scProtocol||-1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&!t.streamUrlExpires)&&s.HTML5Player.isFormatSupported(e.maestroFormat)},t.prototype.buildPlayer=function(e){var t=e.urlAndRendition,r=t.rendition,n=t.timeRetrieved,o="hls"===r.scProtocol||"encrypted-hls"===r.scProtocol,a=-1!==navigator.userAgent.indexOf("iPhone");if(e.useIphoneHlsHack&&a&&o);else if(e.streamUrlExpires&&(o||!(void 0!==n)))throw i.notSupportedError;return new l(e,this._mediaElementManager)},t}(i.BaseController);t.HTML5PlayerController=u;var l=function(){function e(e,t){var r=this;this._config=e,this._mediaElementManager=t;var n=e.logger,o=e.playerId,i=e.urlAndRendition,a=e.streamUrlExpires,l=e.reportError,p=e.fadeOnPauseAndPlay,d=e.fadeOnSeek,c=e.releaseControl,f=e.seekStrategy;this._logger=n;var h=i.rendition,g=i.timeRetrieved;if(a){if(void 0===g)throw Error("Expecting timeUrlRetrieved to be set.");this._expirationConfig={urlExpires:!0,timeUrlRetrieved:g}}else this._expirationConfig={urlExpires:!1};var _=this._player=new s.HTML5Player({url:i.url,format:h.maestroFormat},{name:o,mediaElement:null,fadeSupportEnabled:p||d,defaultFadeDuration:p?void 0:0,defaultSeekFadeInDuration:d?void 0:0,defaultSeekFadeOutDuration:d?void 0:0,webAudioContext:this._mediaElementManager.getWebAudioContext(),logger:this._logger,seekStrategy:f,registerListeners:function(e){var t=e.onError,n=e.onChange;t.subscribe(function(e){e instanceof s.errors.NetworkError&&r._hasExpired()?(r._logger.info("Releasing control as a network error occurred, and the URL has expired."),c({retry:!0})):(l(e.getCode()),u.errorQualifiesAbort(e)&&c({retry:!1}))}),n.subscribe(function(e){var t=e.dead,n=e.playing,o=e.actuallyPlaying,i=e.seeking,a=e.duration;if(t){c({retry:!1});return}if(a===1/0){r._logger.info("Releasing control because the duration was Infinity."),c({retry:!1});return}r._expirationConfig.urlExpires&&(n||o||i)&&r._checkIfUrlWillExpireBeforeEnd()})}});this._mediaElementManager.registerPlayer(_,function(){return c({retry:!1})})}return e.prototype.getPlayer=function(){return this._player},e.prototype.getUrl=function(){return this._config.urlAndRendition.url},e.prototype._checkIfUrlWillExpireBeforeEnd=function(){var e=this._player.getDuration(),t=this._getExpireTime();if(null!==e&&null!==t){var r=e-this._player.getPosition();a.helpers.time.now()+r>t&&(this._logger.info("Releasing control because stream URL would expire before reaching end."),this._config.releaseControl({retry:!0}))}},e.prototype._getExpireTime=function(){if(!this._expirationConfig.urlExpires)return null;var e=this._player.getDuration();return null===e?null:this._expirationConfig.timeUrlRetrieved+e+105e3},e.prototype._hasExpired=function(){var e=this._getExpireTime();return null!==e&&e<=a.helpers.time.now()},e}();t.ControlledPlayer=l},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=new(r(0)).WebAudioContext,i=function(){function e(e,t){this._playerListeners=new n.helpers.SCWeakMap,this._playerWithElement=null,this._canActivate=!0,this._provideMediaElementErrorRunCheck={},this._element=document.createElement(e),this._logger=n.logger.prefixLogger(t,"MediaElementManager")}return e.prototype.activate=function(){this._canActivate&&(this._logger.debug("Activating media element."),this._element.load()),this._logger.debug("Activating web audio context."),o.activate()},e.prototype.registerPlayer=function(e,t){var r=this;if(this._playerListeners.has(e))throw Error("Player already registered.");var n=function(){if(e.getMediaElement()!==r._element){r._playerWithElement&&(r._playerWithElement.getMediaElement()===r._element&&(r._logger.debug("Revoking media element from previous player."),r._playerWithElement.isPlaying()&&r._logger.warn("Revoking media element from a playing player."),r._playerWithElement.revokeMediaElement()),r._playerWithElement=null),r._canActivate=!1;var n=r._provideMediaElementErrorRunCheck={};r._logger.debug("Providing media element to new player."),e.provideMediaElement(r._element).catch(function(o){e.isDead()||r._provideMediaElementErrorRunCheck!==n||(r._logger.error("Error occurred providing media element to new player.",o),t(o))}),r._playerWithElement=e}},o=e.onChange.subscribe(function(e){e.playing&&n()});this._playerListeners.set(e,o),e.getMediaElement()&&e.revokeMediaElement(),e.isPlaying()&&n()},e.prototype.unregisterPlayer=function(e){var t=this._playerListeners.get(e);t&&(t.remove(),this._playerWithElement===e&&(this._playerWithElement=null,e.getMediaElement()===this._element&&e.revokeMediaElement()),this._playerListeners.delete(e))},e.prototype.getWebAudioContext=function(){return o},e}();t.MediaElementManager=i}])},e.exports=n(r(65897),r(26177),r(33801))},49460:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.10.0",t.buildNumber=1043;var n=r(1);t.StreamUrlRetriever=n.StreamUrlRetriever},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=r(3),u=r(4),l=/^([^;]+)(?:; codecs="([^,]+)(?:,(.+))?")?$/,p=new u.Limiter,d=[u.renditions.encryptedHlsMp3,u.renditions.hlsMp3,u.renditions.encryptedHlsOpus,u.renditions.hlsOpus,u.renditions.hlsAACHQ,u.renditions.encryptedHlsAACHQ,u.renditions.httpMp3,u.renditions.httpAACHQ],c=function(e){function t(t){var r=t.loader,n=t.trackId,o=t.trackAuthorization,i=t.secretToken,a=void 0===i?null:i,s=t.mediaPayload,u=t.clientId,l=t.requestAuthorization,p=void 0===l?null:l,d=t.excludedRenditions,c=e.call(this)||this;if(c.name="MediaPayload",!r)throw Error("loader required.");if(!s)throw Error("mediaPayload required.");if("string"!=typeof u)throw Error("clientId invalid.");if("number"!=typeof n)throw Error("trackId invalid.");if(null!==a&&"string"!=typeof a)throw Error("secretToken invalid.");if(null!==p&&"string"!=typeof p)throw Error("requestAuthorizaton invalid.");return c._loader=r,c._clientId=u,c._requestAuthorization=p,c._trackId=n,c._trackAuthorization=void 0===o?null:o,c._secretToken=a,c._mediaPayload=s,c._excludedRenditions=void 0===d?[]:d,c}return o(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){0>this._excludedRenditions.indexOf(e)&&this._excludedRenditions.push(e)},t.prototype.getUrl=function(e){var t=this,r=e.snippet,n=e.qualities,o=void 0===n?[u.Quality.SQ]:n;return new s.helpers.abortableJob.AbortableJob(function(){var e=t._mediaPayload.transcodings.map(function(e){var n=e.format,i=n.protocol,a=n.mime_type,s=t._lookupRendition(i,a),l=u.resolveQuality(e.quality);return l&&s&&-1===t._excludedRenditions.indexOf(s)&&e.snipped===r&&o.indexOf(l)>=0?{rendition:s,transcoding:e,quality:l,preset:e.preset}:null}).filter(Boolean);if(!e.length)return{result:s.helpers.Promise.resolve(null)};var n=s.helpers.deferred.buildDeferred(),i=e[0],a=i.transcoding,l=i.rendition,p=i.quality,d=i.preset,c=t._retrieveStreamUrl(a.url);return c.onCompletion(function(e){n.resolve({success:!0,url:e,rendition:l,quality:p,preset:d,timeRetrieved:s.helpers.time.now()})}),c.onError(function(e){e instanceof u.UrlRetrieverError?n.resolve({success:!1,error:e,rendition:l,quality:p,preset:d,timeRetrieved:s.helpers.time.now()}):n.reject(e)}),{result:n.promise,abort:function(){return c.abort()}}}).run()},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.updateMediaPayload=function(e){if(!e||"object"!=typeof e)throw Error("mediaPayload invalid.");this._mediaPayload=e},t.prototype.updateTrackAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw Error("trackAuthorization invalid.");this._trackAuthorization=e},t.prototype._lookupRendition=function(e,t){var r,n=function(e){switch(e){case"encrypted-hls":return"encrypted-hls";case"hls":return"hls";case"progressive":return"http"}return null}(e);if(!n)return null;var o=(r=l.exec(t))?{mimeType:r[1],audioCodec:r[2]?{id:r[2]}:void 0,videoCodec:r[3]?{id:r[3]}:void 0}:null;return o&&s.helpers.find(d,function(e){var t=e.maestroSegmentFormat||e.maestroFormat;return e.scProtocol===n&&t.mimeType===o.mimeType&&!t.audioCodec==!o.audioCodec&&(!t.audioCodec||!o.audioCodec||t.audioCodec.id===o.audioCodec.id)&&!t.videoCodec==!o.videoCodec&&(!t.videoCodec||!o.videoCodec||t.videoCodec.id===o.videoCodec.id)})||null},t.prototype._retrieveStreamUrl=function(e){var t=this;return new s.helpers.abortableJob.AbortableJob(function(){var r=s.helpers.deferred.buildDeferred(),n=p.execute(function(){var n=t._requestAuthorization?{Authorization:t._requestAuthorization}:{},o={client_id:t._clientId};t._secretToken&&(o.secret_token=t._secretToken),t._trackAuthorization&&(o.track_authorization=t._trackAuthorization);var s=function(e,t){var r=a.parseURL(e);if(!r)throw Error("Unable to parse url.");var n=r.query.slice(1).split("&").filter(Boolean),o=Object.create(null);n.forEach(function(e){var t=e.split("=",2);o[encodeURIComponent(t[0])]=t.length>1?decodeURIComponent(e.slice(e.indexOf("=")+1)):void 0});var s=i({},o,t);return r.query="?"+Object.keys(s).map(function(e){var t=encodeURIComponent(e),r=s[e];return r&&(t+="="+encodeURIComponent(r)),t}).join("&"),a.buildURLFromParts(r)}(e,o),l=t._loader.request({url:s,headers:n}).getResponse().then(function(e){if(!e)throw new u.UrlRetrieverError("TIMED_OUT",!0);if(200!==e.statusCode)throw new u.UrlRetrieverError("INVALID_STATUS_"+e.statusCode,429===e.statusCode);var t=e.getData();if(!t)throw new u.UrlRetrieverError("NO_DATA");var r=JSON.parse(t).url;if("string"!=typeof r||!r)throw new u.UrlRetrieverError("NO_STREAM_URL");return r}).catch(function(e){if(e instanceof u.UrlRetrieverError)throw e;throw new u.UrlRetrieverError("UNEXPECTED_ERROR",!1,e)});return r.resolve(l),l});return{result:r.promise,abort:function(){return n.abort()}}}).run()},t}(u.BaseStreamUrlRetriever);t.StreamUrlRetriever=c},function(e,t,r){var n,o,i,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var i=s.parseURL(t);if(!i)throw Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;var a=s.parseURL(e);if(!a)throw Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=o.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(l.netLoc=a.netLoc,"/"!==i.path[0])){if(i.path){var p=a.path,d=p.substring(0,p.lastIndexOf("/")+1)+i.path;l.path=s.normalizePath(d)}else l.path=a.path,i.params||(l.params=a.params,i.query||(l.query=a.query))}return null===l.path&&(l.path=r.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(26177),r(33801))}}]);